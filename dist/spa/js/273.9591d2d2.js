"use strict";(self["webpackChunkjolzan"]=self["webpackChunkjolzan"]||[]).push([[273],{2273:(e,o,t)=>{t.r(o),t.d(o,{default:()=>S});var n=t(3673),i=t(8880);const s={class:"row justify-center q-my-md"},a={key:0,class:"absolute-center"},l=(0,n._)("div",{class:"text-primary text-h6"},"Log in please",-1),r=(0,n.Uk)("Log in");function g(e,o,t,g,u,p){const c=(0,n.up)("trip-item"),d=(0,n.up)("q-list"),m=(0,n.up)("no-result"),k=(0,n.up)("q-spinner-dots"),w=(0,n.up)("q-infinite-scroll"),b=(0,n.up)("q-btn"),h=(0,n.up)("q-page");return(0,n.wg)(),(0,n.j4)(h,null,{default:(0,n.w5)((()=>[(0,n.wy)((0,n.Wm)(w,{onLoad:p.onLoad,offset:80,class:"q-pa-xs q-mt-lg"},(0,n.Nv)({default:(0,n.w5)((()=>[e.loggedIn&&e.bookings.data.length?((0,n.wg)(),(0,n.j4)(d,{key:0},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.bookings.data,((e,o)=>((0,n.wg)(),(0,n.j4)(c,{key:o,booking:e,onClick:o=>p.goToBookingDetails(e)},null,8,["booking","onClick"])))),128))])),_:1})):((0,n.wg)(),(0,n.j4)(m,{key:1,msg:"No trip found"}))])),_:2},[p.isPageAvailable?{name:"loading",fn:(0,n.w5)((()=>[(0,n._)("div",s,[(0,n.Wm)(k,{color:"primary",size:"40px"})])]))}:void 0]),1032,["onLoad"]),[[i.F8,e.bookings.data.length]]),e.loggedIn?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",a,[l,(0,n.Wm)(b,{class:"full-width bg-primary text-white q-mt-lg",onClick:p.goToLogin},{default:(0,n.w5)((()=>[r])),_:1},8,["onClick"])]))])),_:1})}var u=t(2323);const p=(0,n.Uk)(" PNR"),c=(0,n._)("br",null,null,-1);function d(e,o,t,i,s,a){const l=(0,n.up)("q-item-section"),r=(0,n.up)("q-item-label"),g=(0,n.up)("q-btn"),d=(0,n.up)("q-item"),m=(0,n.up)("q-separator");return(0,n.wg)(),(0,n.iD)("div",null,[((0,n.wg)(),(0,n.j4)(d,{clickable:"",key:t.booking.id},{default:(0,n.w5)((()=>[(0,n.Wm)(l,{avatar:"",top:""},{default:(0,n.w5)((()=>[p,c,(0,n.Uk)(" "+(0,u.zw)(t.booking.pnr),1)])),_:1}),(0,n.Wm)(l,null,{default:(0,n.w5)((()=>[(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,u.zw)(t.booking.items[0].vehicle_name),1)])),_:1}),(0,n.Wm)(r,{caption:"",lines:"2"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,u.zw)(t.booking.items[0].route_name),1)])),_:1})])),_:1}),(0,n.Wm)(l,{side:"",top:""},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{caption:""},{default:(0,n.w5)((()=>[(0,n.Uk)((0,u.zw)(t.booking.booking_date_formatted),1)])),_:1}),(0,n.Wm)(g,{color:"teal",size:"sm",outline:""},{default:(0,n.w5)((()=>[(0,n.Uk)((0,u.zw)(t.booking.status),1)])),_:1})])),_:1})])),_:1})),(0,n.Wm)(m,{spaced:"",inset:""})])}const m={props:["booking"]};var k=t(4260),w=t(3414),b=t(2035),h=t(2350),f=t(8240),_=t(5869),q=t(7518),v=t.n(q);const y=(0,k.Z)(m,[["render",d]]),Z=y;v()(m,"components",{QItem:w.Z,QItemSection:b.Z,QItemLabel:h.Z,QBtn:f.Z,QSeparator:_.Z});var I=t(741),L=t(5751);const W={components:{NoResult:L.Z,TripItem:Z},setup(){},created(){let e=localStorage.getItem("bookings");console.log(JSON.parse(e)),e?this.$store.commit("general/MY_BOOKINGS",{success:!0,bookings:JSON.parse(e)}):(this.$parent.$q.loading.show(),this.$store.dispatch("general/myJourney").then((()=>{this.$parent.$q.loading.hide()})))},methods:{goToBookingDetails(e){this.$router.push("/trip-details/"+e.id)},onLoad(e,o){setTimeout((e=>{this.bookings.current_page!==this.bookings.last_page&&this.$store.dispatch("general/myJourney"),o()}),2e3)},goToLogin(){this.$store.commit("general/OPEN_LOGIN_FORM")}},computed:{isPageAvailable(){return this.bookings.last_page>this.bookings.current_page},...(0,I.rn)("general",["bookings","loggedIn"])}};var Q=t(4379),z=t(2729),N=t(7011),$=t(4765);const j=(0,k.Z)(W,[["render",g]]),S=j;v()(W,"components",{QPage:Q.Z,QInfiniteScroll:z.Z,QList:N.Z,QSpinnerDots:$.Z,QBtn:f.Z})}}]);