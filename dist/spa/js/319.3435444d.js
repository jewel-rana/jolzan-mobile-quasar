"use strict";(self["webpackChunkjolzan"]=self["webpackChunkjolzan"]||[]).push([[319],{5319:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ne});var s=a(3673),o=a(2323);const i=e=>((0,s.dD)("data-v-1fab74f0"),e=e(),(0,s.Cn)(),e),n={class:"absolute-bottom text-h6"},r=i((()=>(0,s._)("br",null,null,-1))),l={class:"row"},c={class:"col q-pa-sm"},d={class:"col q-pa-sm"},p={class:"row"},u={class:"col q-pa-sm"},m={class:"col q-pa-sm"},b=i((()=>(0,s._)("div",{class:"text-h6"},"Movies",-1))),h=(0,s.Uk)(" Lorem ipsum dolor sit amet consectetur adipisicing elit. ");function g(e,t,a,i,g,_){const y=(0,s.up)("q-img"),v=(0,s.up)("q-tab"),C=(0,s.up)("q-tabs"),w=(0,s.up)("q-separator"),f=(0,s.up)("q-select"),k=(0,s.up)("item-layout"),T=(0,s.up)("q-tab-panel"),$=(0,s.up)("q-tab-panels"),q=(0,s.up)("q-card-section"),S=(0,s.up)("q-card"),D=(0,s.up)("cart-section"),W=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(W,null,{default:(0,s.w5)((()=>[(0,s.Wm)(S,{class:"my-card"},{default:(0,s.w5)((()=>[(0,s.Wm)(y,{src:e.trip.vehicle_photo||"/images/default-banner.jpg",height:"140px"},{default:(0,s.w5)((()=>[(0,s._)("div",n,[(0,s.Uk)((0,o.zw)(e.trip.vehicle_name)+" ",1),r,(0,s._)("small",null,(0,o.zw)(e.trip.route_name),1)])])),_:1},8,["src"]),(0,s.Wm)(q,null,{default:(0,s.w5)((()=>[(0,s.Wm)(C,{modelValue:i.tab,"onUpdate:modelValue":t[0]||(t[0]=e=>i.tab=e),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary","narrow-indicator":""},{default:(0,s.w5)((()=>[(0,s.Wm)(v,{name:"mails",label:"Tab 1"}),(0,s.Wm)(v,{name:"alarms",label:"Tab 2"})])),_:1},8,["modelValue"]),(0,s.Wm)(w),(0,s.Wm)($,{modelValue:i.tab,"onUpdate:modelValue":t[5]||(t[5]=e=>i.tab=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(T,{name:"mails"},{default:(0,s.w5)((()=>[(0,s._)("div",l,[(0,s._)("div",c,[(0,s.Wm)(f,{standout:"bg-teal text-white",modelValue:e.floor,"onUpdate:modelValue":t[1]||(t[1]=t=>e.floor=t),options:_.floors,label:"Floor",onChange:_.floorChange},null,8,["modelValue","options","onChange"])]),(0,s._)("div",d,[(0,s.Wm)(f,{standout:"bg-teal text-white",modelValue:_.cabin_type,"onUpdate:modelValue":t[2]||(t[2]=e=>_.cabin_type=e),options:_.cabinTypes,label:"Type"},null,8,["modelValue","options"])])]),(0,s.Wm)(k,{items:e.trip.cabins},null,8,["items"])])),_:1}),(0,s.Wm)(T,{name:"alarms"},{default:(0,s.w5)((()=>[(0,s._)("div",p,[(0,s._)("div",u,[(0,s.Wm)(f,{standout:"bg-teal text-white",modelValue:e.floor,"onUpdate:modelValue":t[3]||(t[3]=t=>e.floor=t),options:_.floors,label:"Floor"},null,8,["modelValue","options"])]),(0,s._)("div",m,[(0,s.Wm)(f,{standout:"bg-teal text-white",modelValue:_.seat_type,"onUpdate:modelValue":t[4]||(t[4]=e=>_.seat_type=e),options:_.seatTypes,label:"Type"},null,8,["modelValue","options"])])]),(0,s.Wm)(k,{items:e.trip.seats},null,8,["items"])])),_:1}),(0,s.Wm)(T,{name:"movies"},{default:(0,s.w5)((()=>[b,h])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,s.Wm)(D)])),_:1})}var _=a(1959);const y=e=>((0,s.dD)("data-v-ebb567bc"),e=e(),(0,s.Cn)(),e),v={class:"cabin-layout"},C={class:"cabins"},w={class:"overflow-auto",id:"cabinLayoutContainer"},f=["onClick"],k=y((()=>(0,s._)("div",{class:"topLap"},"AC",-1))),T={key:0,class:"checked-mark"},$={class:"cabin-number"},q={class:"cabin-price"};function S(e,t,a,i,n,r){const l=(0,s.up)("q-icon");return(0,s.wg)(),(0,s.iD)("div",v,[(0,s._)("div",C,[(0,s._)("div",w,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.items,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"layoutRowCol",key:t},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:(0,o.C_)(["cabin",e.cabin_class]),key:t,onClick:t=>r.addToCard(t,e)},[k,"cabin-selected"===e.cabin_class?((0,s.wg)(),(0,s.iD)("div",T,[(0,s.Wm)(l,{name:"check",size:"18px"})])):(0,s.kq)("",!0),(0,s._)("div",$,(0,o.zw)(e.cabin_no),1),(0,s._)("div",q,"à§³ "+(0,o.zw)(e.fare),1)],10,f)))),128))])))),128))])])])}const D={props:["items"],created(){console.log(this.items)},methods:{addToCard(e,t){console.log(t),1==t.status&&"cabin-active"==t.cabin_class&&(this.$parent.$q.loading.show(),this.$store.dispatch("general/addCart",{item:t,token:this.customer_token}).then((()=>{this.$parent.$q.loading.hide(),this.$parent.$q.notify({type:"positive",message:"item has been added to cart"})})).catch((e=>{console.log(e)})))},addToCartDeck(){this.$store.dispatch("general/AddDeckTicketToCart")},cabinStatus(e){var t="cabin-active";switch(e.status){case"0":t="cabin-active";break;case"1":t="cabin-disable";break}return t},filterCabinByType(e="cabin",t){this.$store.dispatch("general/FilterByType",{property:e,type:t})}}};var W=a(4260),Z=a(4554),I=a(4615),x=a(7518),V=a.n(x);const Q=(0,W.Z)(D,[["render",S],["__scopeId","data-v-ebb567bc"]]),A=Q;V()(D,"components",{QIcon:Z.Z,QExpansionItem:I.Z});var z=a(741);a(71);const U={key:0,id:"cartContent"},j={class:"row justify-center"},O=(0,s.Uk)("Checkout ");function B(e,t,a,i,n,r){const l=(0,s.up)("q-icon"),c=(0,s.up)("q-btn"),d=(0,s.up)("cart-item"),p=(0,s.up)("q-list"),u=(0,s.up)("no-result");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",{id:"cartSection",class:(0,o.C_)(r.cartSectionDeviceClass)},[(0,s._)("div",{class:"cartPopup cursor-pointer",clickable:"",onClick:t[0]||(t[0]=(...e)=>r.displayCartContent&&r.displayCartContent(...e))},[e.cartContent?((0,s.wg)(),(0,s.j4)(l,{key:1,name:"keyboard_arrow_down",size:"32px"})):((0,s.wg)(),(0,s.j4)(l,{key:0,name:"expand_less",size:"32px"}))]),(0,s.Wm)(c,{flat:"",color:"primary",size:"md",id:"cartExpandButton",icon:"shopping_cart",class:"full-width",onClick:r.displayCartContent},{default:(0,s.w5)((()=>[(0,s.Uk)("Cart ("+(0,o.zw)(e.cart.length)+")",1)])),_:1},8,["onClick"]),e.cartContent?((0,s.wg)(),(0,s.iD)("div",U,[e.cart.length?((0,s.wg)(),(0,s.j4)(p,{key:0,bordered:"",separator:""},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.cart,((e,t)=>((0,s.wg)(),(0,s.j4)(d,{item:e,index:t},null,8,["item","index"])))),256))])),_:1})):((0,s.wg)(),(0,s.j4)(u,{key:1,msg:"No cart items found"})),(0,s._)("div",j,[e.cart.length?((0,s.wg)(),(0,s.j4)(c,{key:0,type:"submit",loading:e.submitting,class:"q-ma-md",color:"primary",size:"md",onClick:t[1]||(t[1]=e=>r.confirmCart(e))},{default:(0,s.w5)((()=>[O])),_:1},8,["loading"])):(0,s.kq)("",!0)])])):(0,s.kq)("",!0)],2)])}var E=a(5751),P=a(8877);const R={components:{NoResult:E.Z,CartItem:P.Z},created(){const e=localStorage.getItem("cart");e&&this.$store.commit("general/LOAD_CART_ITEMS",JSON.parse(e))},methods:{displayCartContent(){this.$store.commit("general/DISPLAY_CART_CONTENT",!this.cartContent),console.log(this.cartContent)},confirmCart(e){this.$router.push("/cart")},changeBoardingPoint(e,t){this.$store.dispatch("changeBoardingPoint",{id:e.target.value,index:t})}},computed:{vatOption(){return parseInt(this.getOptionByKey("vat_amount"))},cartTotal(){let e=0;for(var t=0;t<this.cart.length;t++)e+=this.cart[t].fare,"customer"===this.cart[t].vat_applicable_to&&(e+=this.cart[t].fare*(this.cart[t].vat_amount/100));return e.toFixed(2)},cartSectionDeviceClass(){return this.$q.screen.lt.md?"cartSectionMobile":"cartSectionDeskTop"},...(0,z.rn)("general",["cart","customer_token","cartContent"]),...(0,z.Se)(["getOptionByKey"])}};var N=a(8240),F=a(7011);const L=(0,W.Z)(R,[["render",B],["__scopeId","data-v-08bb08ae"]]),M=L;V()(R,"components",{QIcon:Z.Z,QBtn:N.Z,QList:F.Z});const H={components:{ItemLayout:A,CartSection:M},setup(){return{tab:(0,_.iH)("mails")}},created(){let e=localStorage.getItem("cart");e&&this.$store.commit("general/SYNCHRONIZE_WITH_CART_ITEMS",e);const t=localStorage.getItem("trip");console.log(JSON.parse(t)),t?this.$store.commit("general/SET_TRIP_ITEM",{data:JSON.parse(t)}):this.$store.dispatch("general/viewTrip",{id:this.$route.params.id,floor:this.$store.state.general.search.floor.value,cabin_type:this.$store.state.general.search.cabin_type.value,seat_type:this.$store.state.general.search.seat_type.value}).then((()=>{this.$router.push("/booking/"+this.$route.params.id)}))},methods:{floorChange(){alert("ok")},cabinStatus(e){let t="cabin-active";switch(e.status){case"0":t="cabin-active";break;case"1":t="cabin-disable";break}return t},filterCabinByType(e="cabin",t){this.$store.dispatch("general/FilterByType",{property:e,type:t})}},computed:{cabin_type:{get(){return this.$store.state.general.search.cabin_type},set(e){this.$store.commit("general/UPDATE_FORM_DATA",{key:"cabin_type",value:e})}},seat_type:{get(){return this.$store.state.general.search.seat_type},set(e){this.$store.commit("general/UPDATE_FORM_DATA",{key:"seat_type",value:e})}},floors(){return this.trip.floors},cabinTypes(){return this.trip.cabin_types},seatTypes(){return this.trip.seat_types},...(0,z.rn)("general",["trip","searchResults"])}};var K=a(4379),Y=a(151),J=a(4027),G=a(5589),X=a(7547),ee=a(8408),te=a(5869),ae=a(5906),se=a(6602),oe=a(3017);const ie=(0,W.Z)(H,[["render",g],["__scopeId","data-v-1fab74f0"]]),ne=ie;V()(H,"components",{QPage:K.Z,QCard:Y.Z,QImg:J.Z,QCardSection:G.Z,QTabs:X.Z,QTab:ee.Z,QSeparator:te.Z,QTabPanels:ae.Z,QTabPanel:se.Z,QSelect:oe.Z})}}]);