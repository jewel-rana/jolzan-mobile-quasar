"use strict";(self["webpackChunkjolzan"]=self["webpackChunkjolzan"]||[]).push([[380],{4462:(e,t,a)=>{a.d(t,{Z:()=>C});var o=a(3673),s=a(2323);const n={class:"text-weight-medium"},r={class:"text-grey-8"},l={class:"text-grey-8 q-gutter-xs"};function i(e,t,a,i,c,d){const u=(0,o.up)("q-icon"),m=(0,o.up)("q-item-section"),p=(0,o.up)("q-item-label"),g=(0,o.up)("q-btn"),h=(0,o.up)("q-item"),b=((0,o.up)("q-radio"),(0,o.up)("q-separator"));(0,o.up)("q-input");return(0,o.wg)(),(0,o.iD)("div",null,[((0,o.wg)(),(0,o.j4)(h,{key:a.index},{default:(0,o.w5)((()=>[(0,o.Wm)(m,{avatar:"",top:""},{default:(0,o.w5)((()=>["cabin"===a.item.type?((0,o.wg)(),(0,o.j4)(u,{key:0,name:"bed",color:"black",size:"34px"})):(0,o.kq)("",!0),"seat"===a.item.type?((0,o.wg)(),(0,o.j4)(u,{key:1,name:"chair",color:"black",size:"34px"})):(0,o.kq)("",!0)])),_:1}),(0,o.Wm)(m,{top:""},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{lines:"1"},{default:(0,o.w5)((()=>[(0,o._)("span",n,(0,s.zw)(a.item.vehicle_name),1),(0,o._)("span",r,(0,s.zw)(a.item.route_name),1)])),_:1}),(0,o.Wm)(p,{lines:"1"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(a.item.cabin_no),1)])),_:1})])),_:1}),(0,o.Wm)(m,{top:"",class:"col-2"},{default:(0,o.w5)((()=>[(0,o.Wm)(p,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(a.item.fare)+"/-",1)])),_:1})])),_:1}),(0,o.Wm)(m,{top:"",side:""},{default:(0,o.w5)((()=>[(0,o._)("div",l,[d.cartRemovable?((0,o.wg)(),(0,o.j4)(g,{key:0,size:"12px",flat:"",dense:"",round:"",icon:"delete",onClick:t[0]||(t[0]=e=>d.removeCartItem(a.index))})):(0,o.kq)("",!0)])])),_:1})])),_:1})),(0,o.kq)("",!0),e.cart.length>1?((0,o.wg)(),(0,o.j4)(b,{key:1})):(0,o.kq)("",!0)])}var c=a(741);const d={props:["item","index"],methods:{removeCartItem(e){console.log(e);const t=this.cart[e];this.$store.dispatch("general/removeItemFromCart",{item:t,index:e,token:this.customer_token}).then((()=>{this.cart})).catch((e=>{}))},togglePassengerDetails(e,t){let a=e.target.value;this.$store.commit("CHANGE_PASSENGER_TYPE",{index:t,value:a})},getHumanDate:function(e){return moment(e,"YYYY-MM-DD").format("DD/MM/YYYY")},changeBoardingPoint(e,t){this.$store.dispatch("general/changeBoardingPoint",{id:e.target.value,index:t})},changePassengerName(e,t,a){console.log(a)},changePassengerMobile(e,t){this.$store.dispatch("general/changePassengerMobile",{name:e.target.value,index:t})}},created(){console.log(this.item)},computed:{cartRemovable(){let e=!0;return"cart"!==this.order.step&&(e=!1),e},passengerType:{get(e){return console.log(e),!0},set(e,t){console.log(t)}},...(0,c.rn)("general",["cart","customer_token","order"])}};var u=a(4260),m=a(3414),p=a(2035),g=a(4554),h=a(2350),b=a(8240),_=a(7991),v=a(5869),w=a(4842),y=a(7518),f=a.n(y);const k=(0,u.Z)(d,[["render",i]]),C=k;f()(d,"components",{QItem:m.Z,QItemSection:p.Z,QIcon:g.Z,QItemLabel:h.Z,QBtn:b.Z,QRadio:_.Z,QSeparator:v.Z,QInput:w.Z})},285:(e,t,a)=>{a.d(t,{Z:()=>g});var o=a(3673),s=a(2323);const n={class:"q-pa-md"};function r(e,t,a,r,l,i){const c=(0,o.up)("q-card-section"),d=(0,o.up)("q-card");return(0,o.wg)(),(0,o.iD)("div",n,[(0,o.Wm)(d,null,{default:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(a.msg||"No results found"),1)])),_:1})])),_:1})])}const l={props:["msg"]};var i=a(4260),c=a(151),d=a(5589),u=a(7518),m=a.n(u);const p=(0,i.Z)(l,[["render",r]]),g=p;m()(l,"components",{QCard:c.Z,QCardSection:d.Z})},4380:(e,t,a)=>{a.r(t),a.d(t,{default:()=>se});var o=a(3673),s=a(2323);const n=e=>((0,o.dD)("data-v-6bddb821"),e=e(),(0,o.Cn)(),e),r={class:"absolute-bottom text-h6"},l=n((()=>(0,o._)("br",null,null,-1))),i={class:"row"},c={class:"col q-pa-sm"},d={class:"col q-pa-sm"},u={class:"row"},m={class:"col q-pa-sm"},p={class:"col q-pa-sm"},g=n((()=>(0,o._)("div",{class:"text-h6"},"Movies",-1))),h=(0,o.Uk)(" Lorem ipsum dolor sit amet consectetur adipisicing elit. ");function b(e,t,a,n,b,_){const v=(0,o.up)("q-img"),w=(0,o.up)("q-tab"),y=(0,o.up)("q-tabs"),f=(0,o.up)("q-separator"),k=(0,o.up)("q-select"),C=(0,o.up)("item-layout"),q=(0,o.up)("q-tab-panel"),T=(0,o.up)("q-tab-panels"),Z=(0,o.up)("q-card-section"),W=(0,o.up)("q-card"),x=(0,o.up)("cart-section"),D=(0,o.up)("q-page");return(0,o.wg)(),(0,o.j4)(D,null,{default:(0,o.w5)((()=>[(0,o.Wm)(W,{class:"my-card"},{default:(0,o.w5)((()=>[(0,o.Wm)(v,{src:e.trip.vehicle_photo||"/images/default-banner.jpg",height:"140px"},{default:(0,o.w5)((()=>[(0,o._)("div",r,[(0,o.Uk)((0,s.zw)(e.trip.vehicle_name)+" ",1),l,(0,o._)("small",null,(0,s.zw)(e.trip.route_name),1)])])),_:1},8,["src"]),(0,o.Wm)(Z,null,{default:(0,o.w5)((()=>[(0,o.Wm)(y,{modelValue:n.tab,"onUpdate:modelValue":t[0]||(t[0]=e=>n.tab=e),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary","narrow-indicator":""},{default:(0,o.w5)((()=>[(0,o.Wm)(w,{name:"mails",label:"Tab 1"}),(0,o.Wm)(w,{name:"alarms",label:"Tab 2"})])),_:1},8,["modelValue"]),(0,o.Wm)(f),(0,o.Wm)(T,{modelValue:n.tab,"onUpdate:modelValue":t[5]||(t[5]=e=>n.tab=e)},{default:(0,o.w5)((()=>[(0,o.Wm)(q,{name:"mails"},{default:(0,o.w5)((()=>[(0,o._)("div",i,[(0,o._)("div",c,[(0,o.Wm)(k,{standout:"bg-teal text-white",modelValue:e.floor,"onUpdate:modelValue":t[1]||(t[1]=t=>e.floor=t),options:_.floors,label:"Floor",onChange:_.floorChange},null,8,["modelValue","options","onChange"])]),(0,o._)("div",d,[(0,o.Wm)(k,{standout:"bg-teal text-white",modelValue:_.cabin_type,"onUpdate:modelValue":t[2]||(t[2]=e=>_.cabin_type=e),options:_.cabinTypes,label:"Type"},null,8,["modelValue","options"])])]),(0,o.Wm)(C,{items:e.trip.cabins},null,8,["items"])])),_:1}),(0,o.Wm)(q,{name:"alarms"},{default:(0,o.w5)((()=>[(0,o._)("div",u,[(0,o._)("div",m,[(0,o.Wm)(k,{standout:"bg-teal text-white",modelValue:e.floor,"onUpdate:modelValue":t[3]||(t[3]=t=>e.floor=t),options:_.floors,label:"Floor"},null,8,["modelValue","options"])]),(0,o._)("div",p,[(0,o.Wm)(k,{standout:"bg-teal text-white",modelValue:_.seat_type,"onUpdate:modelValue":t[4]||(t[4]=e=>_.seat_type=e),options:_.seatTypes,label:"Type"},null,8,["modelValue","options"])])]),(0,o.Wm)(C,{items:e.trip.seats},null,8,["items"])])),_:1}),(0,o.Wm)(q,{name:"movies"},{default:(0,o.w5)((()=>[g,h])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,o.Wm)(x)])),_:1})}var _=a(1959);const v=e=>((0,o.dD)("data-v-831a753e"),e=e(),(0,o.Cn)(),e),w={class:"cabin-layout"},y={class:"cabins"},f={class:"overflow-auto",id:"cabinLayoutContainer"},k=["onClick"],C=v((()=>(0,o._)("div",{class:"topLap"},"AC",-1))),q={class:"cabin-number"},T={class:"cabin-price"};function Z(e,t,a,n,r,l){return(0,o.wg)(),(0,o.iD)("div",w,[(0,o._)("div",y,[(0,o._)("div",f,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.items,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{class:"layoutRowCol",key:t},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{class:(0,s.C_)(["cabin",e.cabin_class]),key:t,onClick:t=>l.addToCard(t,e)},[C,(0,o._)("div",q,(0,s.zw)(e.cabin_no),1),(0,o._)("div",T,"à§³ "+(0,s.zw)(e.fare),1)],10,k)))),128))])))),128))])])])}const W={props:["items"],created(){console.log(this.items)},methods:{addToCard(e,t){console.log(t),1==t.status&&"cabin-active"==t.cabin_class&&this.$store.dispatch("general/addCart",{item:t,token:this.customer_token}).then((()=>{console.log("item has been added to cart")})).catch((e=>{console.log(e)}))},addToCartDeck(){this.$store.dispatch("general/AddDeckTicketToCart")},cabinStatus(e){var t="cabin-active";switch(e.status){case"0":t="cabin-active";break;case"1":t="cabin-disable";break}return t},filterCabinByType(e="cabin",t){this.$store.dispatch("general/FilterByType",{property:e,type:t})}}};var x=a(4260),D=a(4615),Q=a(7518),$=a.n(Q);const I=(0,x.Z)(W,[["render",Z],["__scopeId","data-v-831a753e"]]),S=I;$()(W,"components",{QExpansionItem:D.Z});var V=a(741);const z={id:"cartSection"},P={key:0,id:"cartContent"},U={class:"row justify-center"};function j(e,t,a,n,r,l){const i=(0,o.up)("q-btn"),c=(0,o.up)("cart-item"),d=(0,o.up)("q-list"),u=(0,o.up)("no-result");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("div",z,[(0,o.Wm)(i,{color:"primary",class:"full-width",onClick:l.displayCartContent},{default:(0,o.w5)((()=>[(0,o.Uk)("Cart ("+(0,s.zw)(e.cart.length)+")",1)])),_:1},8,["onClick"]),n.cartContent?((0,o.wg)(),(0,o.iD)("div",P,[e.cart.length?((0,o.wg)(),(0,o.j4)(d,{key:0,bordered:"",separator:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.cart,((e,t)=>((0,o.wg)(),(0,o.j4)(c,{item:e,index:t},null,8,["item","index"])))),256))])),_:1})):((0,o.wg)(),(0,o.j4)(u,{key:1,msg:"No cart items found"})),(0,o._)("div",U,[e.cart.length?((0,o.wg)(),(0,o.j4)(i,{key:0,type:"submit",loading:e.submitting,class:"full-width",color:"teal",onClick:t[0]||(t[0]=e=>l.confirmCart(e))},{default:(0,o.w5)((()=>[(0,o.Uk)("Confirm order ("+(0,s.zw)(l.cartTotal)+") ",1)])),_:1},8,["loading"])):(0,o.kq)("",!0)])])):(0,o.kq)("",!0)])])}var A=a(285),B=a(4462);const Y={components:{NoResult:A.Z,CartItem:B.Z},setup(){return{cartContent:(0,_.iH)(!1)}},created(){const e=localStorage.getItem("cart");e&&this.$store.commit("general/LOAD_CART_ITEMS",JSON.parse(e))},methods:{displayCartContent(){this.cartContent=!this.cartContent,console.log(this.cartContent)},confirmCart(e){this.$router.push("/cart")},changeBoardingPoint(e,t){this.$store.dispatch("changeBoardingPoint",{id:e.target.value,index:t})}},computed:{vatOption(){return parseInt(this.getOptionByKey("vat_amount"))},cartTotal(){let e=0;for(var t=0;t<this.cart.length;t++)e+=this.cart[t].fare,"customer"===this.cart[t].vat_applicable_to&&(e+=this.cart[t].fare*(this.cart[t].vat_amount/100));return e.toFixed(2)},...(0,V.rn)("general",["cart","customer_token"]),...(0,V.Se)(["getOptionByKey"])}};var M=a(8240),R=a(7011);const E=(0,x.Z)(Y,[["render",j],["__scopeId","data-v-741c3500"]]),N=E;$()(Y,"components",{QBtn:M.Z,QList:R.Z});const O={components:{ItemLayout:S,CartSection:N},setup(){return{tab:(0,_.iH)("mails")}},created(){const e=localStorage.getItem("trip");console.log(JSON.parse(e)),e?this.$store.commit("general/SET_TRIP_ITEM",{data:JSON.parse(e)}):this.$store.dispatch("general/viewTrip",{id:this.$route.params.id,floor:this.$store.state.general.search.floor.value,cabin_type:this.$store.state.general.search.cabin_type.value,seat_type:this.$store.state.general.search.seat_type.value}).then((()=>{this.$router.push("/booking/"+this.$route.params.id)}))},methods:{floorChange(){alert("ok")},cabinStatus(e){let t="cabin-active";switch(e.status){case"0":t="cabin-active";break;case"1":t="cabin-disable";break}return t},filterCabinByType(e="cabin",t){this.$store.dispatch("general/FilterByType",{property:e,type:t})}},computed:{cabin_type:{get(){return this.$store.state.general.search.cabin_type},set(e){this.$store.commit("general/UPDATE_FORM_DATA",{key:"cabin_type",value:e})}},seat_type:{get(){return this.$store.state.general.search.seat_type},set(e){this.$store.commit("general/UPDATE_FORM_DATA",{key:"seat_type",value:e})}},floors(){return this.trip.floors},cabinTypes(){return this.trip.cabin_types},seatTypes(){return this.trip.seat_types},...(0,V.rn)("general",["trip","searchResults"])}};var F=a(4379),H=a(151),L=a(4027),K=a(5589),J=a(7547),G=a(8408),X=a(5869),ee=a(5906),te=a(6602),ae=a(3017);const oe=(0,x.Z)(O,[["render",b],["__scopeId","data-v-6bddb821"]]),se=oe;$()(O,"components",{QPage:F.Z,QCard:H.Z,QImg:L.Z,QCardSection:K.Z,QTabs:J.Z,QTab:G.Z,QSeparator:X.Z,QTabPanels:ee.Z,QTabPanel:te.Z,QSelect:ae.Z})}}]);