"use strict";(self["webpackChunkjolzan"]=self["webpackChunkjolzan"]||[]).push([[315],{5082:(e,t,n)=>{n.d(t,{Z:()=>p});var o=n(3673);const a={class:"q-mt-lg"};function r(e,t,n,r,s,i){const l=(0,o.up)("q-table");return(0,o.wg)(),(0,o.iD)("div",a,[(0,o.Wm)(l,{title:"",rows:i.getRows,columns:r.columns,"row-key":"name","hide-header":"","hide-bottom":""},null,8,["rows","columns"])])}var s=n(741);const i=[{name:"name",required:!0,label:"",align:"left",field:e=>e.name,format:e=>`${e}`,sortable:!1},{name:"amount",required:!0,label:"",align:"right",field:e=>e.amount,format:e=>`${e}`,sortable:!1}],l={setup(){return{columns:i}},computed:{getRows(){return[{name:"Sub-total",amount:this.getSubTotal},{name:"Vat",amount:this.getVatTotal},{name:"Service charge",amount:this.getServiceCharge},{name:"Total",amount:this.getTotal}]},...(0,s.rn)("general",["cart"]),...(0,s.Se)("general",["getSubTotal","getVatTotal","getServiceCharge","getTotal"])}};var c=n(4260),m=n(2138),u=n(7518),g=n.n(u);const d=(0,c.Z)(l,[["render",r]]),p=d;g()(l,"components",{QTable:m.Z})},9894:(e,t,n)=>{n.d(t,{Z:()=>Z});var o=n(3673),a=n(2323);const r={class:"text-weight-medium"},s={class:"text-grey-8 q-pl-md"},i={class:"text-grey-8 q-gutter-xs"};function l(e,t,n,l,c,m){const u=(0,o.up)("q-icon"),g=(0,o.up)("q-item-section"),d=(0,o.up)("q-item-label"),p=(0,o.up)("q-btn"),h=(0,o.up)("q-item"),w=((0,o.up)("q-radio"),(0,o.up)("q-separator"));(0,o.up)("q-input");return(0,o.wg)(),(0,o.iD)("div",null,[((0,o.wg)(),(0,o.j4)(h,{key:n.index},{default:(0,o.w5)((()=>[(0,o.Wm)(g,{avatar:"",top:""},{default:(0,o.w5)((()=>["cabin"===n.item.type?((0,o.wg)(),(0,o.j4)(u,{key:0,name:"bed",color:"black",size:"34px"})):(0,o.kq)("",!0),"seat"===n.item.type?((0,o.wg)(),(0,o.j4)(u,{key:1,name:"chair",color:"black",size:"34px"})):(0,o.kq)("",!0)])),_:1}),(0,o.Wm)(g,{top:""},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{lines:"1"},{default:(0,o.w5)((()=>[(0,o._)("span",r,(0,a.zw)(n.item.vehicle_name),1),(0,o._)("span",s,(0,a.zw)(n.item.route_name),1)])),_:1}),(0,o.Wm)(d,{lines:"1"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(n.item.cabin_no),1)])),_:1})])),_:1}),(0,o.Wm)(g,{top:"",class:"col-2"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(n.item.fare)+"/-",1)])),_:1})])),_:1}),(0,o.Wm)(g,{top:"",side:""},{default:(0,o.w5)((()=>[(0,o._)("div",i,[m.cartRemovable?((0,o.wg)(),(0,o.j4)(p,{key:0,size:"12px",flat:"",dense:"",round:"",icon:"delete",onClick:t[0]||(t[0]=e=>m.removeCartItem(n.index))})):(0,o.kq)("",!0)])])),_:1})])),_:1})),(0,o.kq)("",!0),e.cart.length>1?((0,o.wg)(),(0,o.j4)(w,{key:1})):(0,o.kq)("",!0)])}var c=n(741);const m={props:["item","index"],methods:{removeCartItem(e){console.log(e);const t=this.cart[e];this.$store.dispatch("general/removeItemFromCart",{item:t,index:e,token:this.customer_token}).then((()=>{this.cart})).catch((e=>{}))},togglePassengerDetails(e,t){let n=e.target.value;this.$store.commit("CHANGE_PASSENGER_TYPE",{index:t,value:n})},getHumanDate:function(e){return moment(e,"YYYY-MM-DD").format("DD/MM/YYYY")},changeBoardingPoint(e,t){this.$store.dispatch("general/changeBoardingPoint",{id:e.target.value,index:t})},changePassengerName(e,t,n){console.log(n)},changePassengerMobile(e,t){this.$store.dispatch("general/changePassengerMobile",{name:e.target.value,index:t})}},created(){console.log(this.item)},computed:{cartRemovable(){let e=!0;return"cart"!==this.order.step&&(e=!1),e},passengerType:{get(e){return console.log(e),!0},set(e,t){console.log(t)}},...(0,c.rn)("general",["cart","customer_token","order"])}};var u=n(4260),g=n(3414),d=n(2035),p=n(4554),h=n(2350),w=n(8240),k=n(7991),f=n(5869),v=n(4842),b=n(7518),q=n.n(b);const _=(0,u.Z)(m,[["render",l]]),Z=_;q()(m,"components",{QItem:g.Z,QItemSection:d.Z,QIcon:p.Z,QItemLabel:h.Z,QBtn:w.Z,QRadio:k.Z,QSeparator:f.Z,QInput:v.Z})},285:(e,t,n)=>{n.d(t,{Z:()=>p});var o=n(3673),a=n(2323);const r={class:"q-pa-md"};function s(e,t,n,s,i,l){const c=(0,o.up)("q-card-section"),m=(0,o.up)("q-card");return(0,o.wg)(),(0,o.iD)("div",r,[(0,o.Wm)(m,null,{default:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(n.msg||"No results found"),1)])),_:1})])),_:1})])}const i={props:["msg"]};var l=n(4260),c=n(151),m=n(5589),u=n(7518),g=n.n(u);const d=(0,l.Z)(i,[["render",s]]),p=d;g()(i,"components",{QCard:c.Z,QCardSection:m.Z})},4582:(e,t,n)=>{n.d(t,{Z:()=>w});var o=n(3673);const a={class:"q-mt-lg"},r={class:"justify-center vertical-middle"},s=(0,o.Uk)("Confirm"),i=(0,o.Uk)("Go to Booking");function l(e,t,n,l,c,m){const u=(0,o.up)("q-btn");return(0,o.wg)(),(0,o.iD)("div",a,[(0,o._)("div",r,[e.cart.length?((0,o.wg)(),(0,o.j4)(u,{key:0,color:"primary",class:"full-width",onClick:t[0]||(t[0]=e=>m.handleConfirm(e,n.step))},{default:(0,o.w5)((()=>[s])),_:1})):((0,o.wg)(),(0,o.j4)(u,{key:1,color:"primary",class:"absolute-center",onClick:m.gotToBooking},{default:(0,o.w5)((()=>[i])),_:1},8,["onClick"]))])])}var c=n(741);const m={props:["step"],methods:{gotToBooking(){this.$router.push("/booking")},handleConfirm(e,t){if(0===this.cart.length)this.$store.commit("general/CLEAR_STEP"),this.$router.push("/booking");else switch(this.order.step){case"cart":this.$store.commit("general/HANDLE_CONFIRM","passenger"),this.$router.push("/passenger");break;case"passenger":this.$store.commit("general/HANDLE_CONFIRM","terms"),this.$router.push("/terms");break;case"terms":this.$parent.$q.loading.show(),this.$store.dispatch("general/orderConfirm").then((e=>{this.$parent.$q.loading.hide(),this.order.id&&this.$router.push("/payment")}));break}}},computed:{...(0,c.rn)("general",["order","cart","loggedIn"])}};var u=n(4260),g=n(8240),d=n(7518),p=n.n(d);const h=(0,u.Z)(m,[["render",l]]),w=h;p()(m,"components",{QBtn:g.Z})},8315:(e,t,n)=>{n.r(t),n.d(t,{default:()=>w});var o=n(3673);function a(e,t,n,a,r,s){const i=(0,o.up)("cart-item"),l=(0,o.up)("cart-bottom"),c=(0,o.up)("no-result"),m=(0,o.up)("confirm-button"),u=(0,o.up)("q-page");return(0,o.wg)(),(0,o.j4)(u,{class:"q-gutter q-pa-md"},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.cart,((e,t)=>((0,o.wg)(),(0,o.j4)(i,{key:t,item:e,index:t},null,8,["item","index"])))),128)),e.cart.length?((0,o.wg)(),(0,o.j4)(l,{key:0})):((0,o.wg)(),(0,o.j4)(c,{key:1})),(0,o.Wm)(m,{step:"terms"})])),_:1})}var r=n(9894),s=n(5082),i=n(285),l=n(4582),c=n(741);const m={components:{CartItem:r.Z,CartBottom:s.Z,NoResult:i.Z,ConfirmButton:l.Z},computed:{...(0,c.rn)("general",["cart"])}};var u=n(4260),g=n(4379),d=n(7518),p=n.n(d);const h=(0,u.Z)(m,[["render",a]]),w=h;p()(m,"components",{QPage:g.Z})}}]);