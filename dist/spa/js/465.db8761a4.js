"use strict";(self["webpackChunkjolzan"]=self["webpackChunkjolzan"]||[]).push([[465],{1465:(e,t,o)=>{o.r(t),o.d(t,{default:()=>me});var s=o(3673),a=o(2323);const i=(0,s._)("div",{class:"text-teal-3 text-bold"},"Booking Info",-1),n={id:"bookingInfo"},l={class:"row"},c=(0,s._)("div",{class:"col-7"},"PNR Number",-1),d={class:"col-5"},r={class:"row q-pt-sm"},m=(0,s._)("div",{class:"col-7"},"Booking date",-1),u={class:"col-5"},g={class:"row q-pt-sm"},p=(0,s._)("div",{class:"col-7"},"Booking Status",-1),_={class:"col-5"},k=(0,s._)("div",{class:"text-teal-3 text-bold q-mt-lg"},"Payment Info",-1),w={id:"paymentInfo"},v={class:"row"},h=(0,s._)("div",{class:"col-7"},"Ticket fees",-1),b={class:"col-5"},q={class:"row q-pt-sm"},f=(0,s._)("div",{class:"col-7"},"Vat",-1),y={class:"col-5"},W={class:"row q-pt-sm"},x=(0,s._)("div",{class:"col-7"},"Service charge",-1),z={class:"col-5"},$={class:"row q-pt-sm"},D=(0,s._)("div",{class:"col-7"},"Discount",-1),I={class:"col-5"},Z={class:"row q-pt-sm"},P=(0,s._)("div",{class:"col-7"},"Gross total",-1),Q={class:"col-5"},Y={class:"row q-pt-sm"},C=(0,s._)("div",{class:"col-7"},"Dues",-1),S={class:"col-5"},B=(0,s.Uk)("Pay now "),j=(0,s._)("div",{class:"text-teal-3 text-bold q-mt-lg"},"Tickets",-1),N={id:"ticketItems"},T={key:0,id:"bookingActions"};function E(e,t,o,E,M,A){const R=(0,s.up)("q-separator"),U=(0,s.up)("q-btn"),G=(0,s.up)("ticket-item"),H=(0,s.up)("q-list"),K=(0,s.up)("q-btn-group"),L=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(L,{class:"q-pa-md"},{default:(0,s.w5)((()=>[i,(0,s.Wm)(R),(0,s._)("div",n,[(0,s._)("div",l,[c,(0,s._)("div",d,": "+(0,a.zw)(e.booking.pnr),1)]),(0,s.Wm)(R),(0,s._)("div",r,[m,(0,s._)("div",u,": "+(0,a.zw)(e.booking.booking_date),1)]),(0,s.Wm)(R),(0,s._)("div",g,[p,(0,s._)("div",_,": "+(0,a.zw)(e.booking.status),1)])]),k,(0,s.Wm)(R),(0,s._)("div",w,[(0,s._)("div",v,[h,(0,s._)("div",b,": "+(0,a.zw)(e.booking.total_amount),1)]),(0,s.Wm)(R),(0,s._)("div",q,[f,(0,s._)("div",y,": "+(0,a.zw)(e.booking.vat_total),1)]),(0,s.Wm)(R),(0,s._)("div",W,[x,(0,s._)("div",z,": "+(0,a.zw)(e.booking.charge_total),1)]),(0,s.Wm)(R),(0,s._)("div",$,[D,(0,s._)("div",I,": "+(0,a.zw)(e.booking.total_discount),1)]),(0,s.Wm)(R),(0,s._)("div",Z,[P,(0,s._)("div",Q,": "+(0,a.zw)(e.booking.total_payable),1)]),(0,s.Wm)(R),(0,s._)("div",Y,[C,(0,s._)("div",S,[(0,s.Uk)(": "+(0,a.zw)(e.booking.total_dues)+" ",1),e.booking.total_dues>0?((0,s.wg)(),(0,s.j4)(U,{key:0,class:"q-mb-sm",size:"sm",color:"orange",onClick:t[0]||(t[0]=t=>A.gotToPayment(e.booking.pnr))},{default:(0,s.w5)((()=>[B])),_:1})):(0,s.kq)("",!0)])])]),j,(0,s.Wm)(R),(0,s._)("div",N,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.booking.items,((e,t)=>((0,s.wg)(),(0,s.iD)("fieldset",{key:t,class:"q-mb-lg"},[(0,s._)("legend",null,(0,a.zw)(e.date),1),(0,s.Wm)(H,null,{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.tickets,(e=>((0,s.wg)(),(0,s.j4)(G,{item:e,index:e.id},null,8,["item","index"])))),256))])),_:2},1024)])))),128))]),"success"===e.booking.payment_status?((0,s.wg)(),(0,s.iD)("div",T,[(0,s.Wm)(K,{spread:""},{default:(0,s.w5)((()=>[(0,s.Wm)(U,{color:"primary",size:"md",label:"Download ticket",icon:"download",onClick:t[1]||(t[1]=t=>A.downloadInvoice(e.booking.pnr))})])),_:1})])):(0,s.kq)("",!0)])),_:1})}var M=o(741);const A={class:"text-weight-medium"},R={class:"text-grey-8 text-bold"};function U(e,t,o,i,n,l){const c=(0,s.up)("q-icon"),d=(0,s.up)("q-item-label"),r=(0,s.up)("q-item-section"),m=(0,s.up)("q-item"),u=((0,s.up)("q-radio"),(0,s.up)("q-separator"));(0,s.up)("q-input");return(0,s.wg)(),(0,s.iD)("div",null,[((0,s.wg)(),(0,s.j4)(m,{key:o.index,class:(0,a.C_)(l.ticketStatus)},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{avatar:"",top:""},{default:(0,s.w5)((()=>["cabin"===o.item.cabin_type?((0,s.wg)(),(0,s.j4)(c,{key:0,name:"bed",color:"black",size:"26px"})):(0,s.kq)("",!0),"seat"===o.item.cabin_type?((0,s.wg)(),(0,s.j4)(c,{key:1,name:"chair",color:"black",size:"26px"})):(0,s.kq)("",!0),(0,s.Wm)(d,{lines:"1"},{default:(0,s.w5)((()=>[(0,s._)("small",null,(0,a.zw)(o.item.cabin_no),1)])),_:1})])),_:1}),(0,s.Wm)(r,{top:""},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{lines:"1"},{default:(0,s.w5)((()=>[(0,s._)("span",A,(0,a.zw)(o.item.vehicle_name),1)])),_:1}),(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[(0,s._)("span",R,(0,a.zw)(o.item.route_name),1)])),_:1})])),_:1}),(0,s.Wm)(r,{top:"",side:"",class:"q-pl-xs"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,a.zw)(o.item.price)+"/-",1)])),_:1})])),_:1})])),_:1},8,["class"])),(0,s.kq)("",!0),(0,s.Wm)(u)])}const G={props:["item","index"],methods:{removeCartItem(e){console.log(e);const t=this.cart[e];this.$parent.$q.loading.show(),this.$store.dispatch("general/removeItemFromCart",{item:t,index:e,token:this.customer_token}).then((()=>{this.$parent.$q.loading.hide(),this.cart})).catch((e=>{}))},togglePassengerDetails(e,t){let o=e.target.value;this.$store.commit("CHANGE_PASSENGER_TYPE",{index:t,value:o})},getHumanDate:function(e){return moment(e,"YYYY-MM-DD").format("DD/MM/YYYY")},changeBoardingPoint(e,t){this.$store.dispatch("general/changeBoardingPoint",{id:e.target.value,index:t})},changePassengerName(e,t,o){console.log(o)},changePassengerMobile(e,t){this.$store.dispatch("general/changePassengerMobile",{name:e.target.value,index:t})},ticketStatusIcon(){let e="pending";switch(this.item.status){case"1":e="ok";break;case"2":e="cancel_presentation";break}return e}},computed:{ticketStatus(){let e="Pending";switch(this.item.status){case 1:e="Success";break;case 2:e="Canceled";break}return e},passengerType:{get(e){return console.log(e),!0},set(e,t){console.log(t)}},...(0,M.rn)("general",["cart","customer_token","order"])}};var H=o(4260),K=o(3414),L=o(2035),F=o(4554),V=o(2350),J=o(8240),O=o(7991),X=o(5869),ee=o(4842),te=o(7518),oe=o.n(te);const se=(0,H.Z)(G,[["render",U],["__scopeId","data-v-6a1b6d02"]]),ae=se;oe()(G,"components",{QItem:K.Z,QItemSection:L.Z,QIcon:F.Z,QItemLabel:V.Z,QBtn:J.Z,QRadio:O.Z,QSeparator:X.Z,QInput:ee.Z});var ie=o(545);o(52);const ne={components:{TicketItem:ae},created(){this.booking&&(this.$parent.$q.loading.show(),this.$store.dispatch("general/bookingDetails",this.$route.params.id).then((()=>{this.$parent.$q.loading.hide(),null!==this.$route.query.payment&&"success"==this.$route.query.payment&&this.$parent.$q.notify({type:"positive",message:"Your payment success"})})))},mounted(){},methods:{gotToPayment(e){window.location.href=ie.Z.BACKEND_URL+"/checkout/paynow/"+e},downloadInvoice(e){window.location.href=ie.Z.BACKEND_URL+"/download/"+e}},computed:{...(0,M.rn)("general",["booking"])}};var le=o(4379),ce=o(7011),de=o(6375);const re=(0,H.Z)(ne,[["render",E]]),me=re;oe()(ne,"components",{QPage:le.Z,QSeparator:X.Z,QBtn:J.Z,QList:ce.Z,QBtnGroup:de.Z})}}]);