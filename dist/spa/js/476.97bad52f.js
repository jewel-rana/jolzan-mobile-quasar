"use strict";(self["webpackChunkjolzan"]=self["webpackChunkjolzan"]||[]).push([[476],{6476:(t,e,a)=>{a.r(e),a.d(e,{default:()=>dt});var o=a(3673),s=a(2323);const i=(0,o._)("div",{class:"text-teal-3 text-bold"},"Booking Info",-1),n={id:"bookingInfo"},l={class:"row"},c=(0,o._)("div",{class:"col-7"},"PNR Number",-1),r={class:"col-5"},d={class:"row q-pt-sm"},m=(0,o._)("div",{class:"col-7"},"Booking date",-1),g={class:"col-5"},u={class:"row q-pt-sm"},p=(0,o._)("div",{class:"col-7"},"Booking Status",-1),_={class:"col-5"},k=(0,o._)("div",{class:"text-teal-3 text-bold q-mt-lg"},"Payment Info",-1),w={id:"paymentInfo"},b={class:"row"},v=(0,o._)("div",{class:"col-7"},"Ticket fees",-1),h={class:"col-5"},q={class:"row q-pt-sm"},f=(0,o._)("div",{class:"col-7"},"Vat",-1),x={class:"col-5"},W={class:"row q-pt-sm"},y=(0,o._)("div",{class:"col-7"},"Service charge",-1),z={class:"col-5"},I={class:"row q-pt-sm"},P=(0,o._)("div",{class:"col-7"},"Discount",-1),Z={class:"col-5"},D={class:"row q-pt-sm"},$=(0,o._)("div",{class:"col-7"},"Gross total",-1),Q={class:"col-5"},S={class:"row q-pt-sm"},Y=(0,o._)("div",{class:"col-7"},"Dues",-1),j={class:"col-5"},B=(0,o.Uk)("Pay now "),C=(0,o._)("div",{class:"text-teal-3 text-bold q-mt-lg"},"Tickets",-1),T={id:"ticketItems"};function M(t,e,a,M,N,E){const R=(0,o.up)("q-separator"),H=(0,o.up)("q-btn"),U=(0,o.up)("ticket-item"),A=(0,o.up)("q-list"),G=(0,o.up)("q-page");return(0,o.wg)(),(0,o.j4)(G,{class:"q-pa-md"},{default:(0,o.w5)((()=>[i,(0,o.Wm)(R),(0,o._)("div",n,[(0,o._)("div",l,[c,(0,o._)("div",r,": "+(0,s.zw)(t.booking.pnr),1)]),(0,o.Wm)(R),(0,o._)("div",d,[m,(0,o._)("div",g,": "+(0,s.zw)(t.booking.booking_date),1)]),(0,o.Wm)(R),(0,o._)("div",u,[p,(0,o._)("div",_,": "+(0,s.zw)(t.booking.status),1)])]),k,(0,o.Wm)(R),(0,o._)("div",w,[(0,o._)("div",b,[v,(0,o._)("div",h,": "+(0,s.zw)(t.booking.total_amount),1)]),(0,o.Wm)(R),(0,o._)("div",q,[f,(0,o._)("div",x,": "+(0,s.zw)(t.booking.vat_total),1)]),(0,o.Wm)(R),(0,o._)("div",W,[y,(0,o._)("div",z,": "+(0,s.zw)(t.booking.charge_total),1)]),(0,o.Wm)(R),(0,o._)("div",I,[P,(0,o._)("div",Z,": "+(0,s.zw)(t.booking.total_discount),1)]),(0,o.Wm)(R),(0,o._)("div",D,[$,(0,o._)("div",Q,": "+(0,s.zw)(t.booking.total_payable),1)]),(0,o.Wm)(R),(0,o._)("div",S,[Y,(0,o._)("div",j,[(0,o.Uk)(": "+(0,s.zw)(t.booking.total_dues>0||"pending"===t.booking.payment_status?t.booking.total_payable:t.booking.dues)+" ",1),t.booking.total_dues>0||"pending"===t.booking.payment_status?((0,o.wg)(),(0,o.j4)(H,{key:0,class:"q-mb-sm",size:"sm",color:"orange",onClick:e[0]||(e[0]=e=>E.gotToPayment(t.booking.pnr))},{default:(0,o.w5)((()=>[B])),_:1})):(0,o.kq)("",!0)])])]),C,(0,o.Wm)(R),(0,o._)("div",T,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.booking.items,((t,e)=>((0,o.wg)(),(0,o.iD)("fieldset",{key:e,class:"q-mb-lg"},[(0,o._)("legend",null,(0,s.zw)(t.date),1),(0,o.Wm)(A,null,{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.tickets,(t=>((0,o.wg)(),(0,o.j4)(U,{item:t,index:t.id},null,8,["item","index"])))),256))])),_:2},1024)])))),128))])])),_:1})}var N=a(741);const E={class:"text-weight-medium"},R={class:"text-grey-8 text-bold"},H={class:"text-grey-8"};function U(t,e,a,i,n,l){const c=(0,o.up)("q-icon"),r=(0,o.up)("q-item-label"),d=(0,o.up)("q-item-section"),m=(0,o.up)("q-btn"),g=(0,o.up)("q-item"),u=((0,o.up)("q-radio"),(0,o.up)("q-separator"));(0,o.up)("q-input");return(0,o.wg)(),(0,o.iD)("div",null,[((0,o.wg)(),(0,o.j4)(g,{key:a.index},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{avatar:"",top:""},{default:(0,o.w5)((()=>["cabin"===a.item.cabin_type?((0,o.wg)(),(0,o.j4)(c,{key:0,name:"bed",color:"black",size:"26px"})):(0,o.kq)("",!0),"seat"===a.item.cabin_type?((0,o.wg)(),(0,o.j4)(c,{key:1,name:"chair",color:"black",size:"26px"})):(0,o.kq)("",!0),(0,o.Wm)(r,{lines:"1"},{default:(0,o.w5)((()=>[(0,o._)("small",null,(0,s.zw)(a.item.cabin_no),1)])),_:1})])),_:1}),(0,o.Wm)(d,{top:""},{default:(0,o.w5)((()=>[(0,o.Wm)(r,{lines:"1"},{default:(0,o.w5)((()=>[(0,o._)("span",E,(0,s.zw)(a.item.vehicle_name),1)])),_:1}),(0,o.Wm)(r,null,{default:(0,o.w5)((()=>[(0,o._)("span",R,(0,s.zw)(a.item.route_name),1)])),_:1})])),_:1}),(0,o.Wm)(d,{top:"",class:"col-2"},{default:(0,o.w5)((()=>[(0,o.Wm)(r,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(a.item.price)+"/-",1)])),_:1})])),_:1}),(0,o.Wm)(d,{top:"",side:"",class:"q-pl-xs"},{default:(0,o.w5)((()=>[(0,o._)("div",H,[(0,o.Wm)(m,{flat:"",dense:"",round:"",label:l.ticketStatus,color:"teal"},null,8,["label"])])])),_:1})])),_:1})),(0,o.kq)("",!0),(0,o.Wm)(u)])}const A={props:["item","index"],methods:{removeCartItem(t){console.log(t);const e=this.cart[t];this.$parent.$q.loading.show(),this.$store.dispatch("general/removeItemFromCart",{item:e,index:t,token:this.customer_token}).then((()=>{this.$parent.$q.loading.hide(),this.cart})).catch((t=>{}))},togglePassengerDetails(t,e){let a=t.target.value;this.$store.commit("CHANGE_PASSENGER_TYPE",{index:e,value:a})},getHumanDate:function(t){return moment(t,"YYYY-MM-DD").format("DD/MM/YYYY")},changeBoardingPoint(t,e){this.$store.dispatch("general/changeBoardingPoint",{id:t.target.value,index:e})},changePassengerName(t,e,a){console.log(a)},changePassengerMobile(t,e){this.$store.dispatch("general/changePassengerMobile",{name:t.target.value,index:e})},ticketStatusIcon(){let t="pending";switch(this.item.status){case"1":t="ok";break;case"2":t="cancel_presentation";break}return t}},computed:{ticketStatus(){let t="Pending";switch(this.item.status){case"1":t="Success";break;case"2":t="Canceled";break}return t},cartRemovable(){let t=!0;return"cart"!==this.order.step&&(t=!1),t},passengerType:{get(t){return console.log(t),!0},set(t,e){console.log(e)}},...(0,N.rn)("general",["cart","customer_token","order"])}};var G=a(4260),K=a(3414),L=a(2035),F=a(4554),V=a(2350),J=a(8240),O=a(7991),X=a(5869),tt=a(4842),et=a(7518),at=a.n(et);const ot=(0,G.Z)(A,[["render",U],["__scopeId","data-v-43afe443"]]),st=ot;at()(A,"components",{QItem:K.Z,QItemSection:L.Z,QIcon:F.Z,QItemLabel:V.Z,QBtn:J.Z,QRadio:O.Z,QSeparator:X.Z,QInput:tt.Z});var it=a(545);const nt={components:{TicketItem:st},created(){this.booking&&(this.$parent.$q.loading.show(),this.$store.dispatch("general/bookingDetails",this.$route.params.id).then((()=>{this.$parent.$q.loading.hide()})))},methods:{gotToPayment(t){window.location.href=it.Z.BACKEND_URL+"/checkout/paynow/"+t}},computed:{...(0,N.rn)("general",["booking"])}};var lt=a(4379),ct=a(7011);const rt=(0,G.Z)(nt,[["render",M]]),dt=rt;at()(nt,"components",{QPage:lt.Z,QSeparator:X.Z,QBtn:J.Z,QList:ct.Z})}}]);