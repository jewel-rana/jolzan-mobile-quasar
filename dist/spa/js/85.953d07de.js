"use strict";(self["webpackChunkjolzan"]=self["webpackChunkjolzan"]||[]).push([[85],{85:(t,e,a)=>{a.r(e),a.d(e,{default:()=>rt});var s=a(3673),o=a(2323);const i=t=>((0,s.dD)("data-v-1fab74f0"),t=t(),(0,s.Cn)(),t),n={class:"absolute-bottom text-h6"},r=i((()=>(0,s._)("br",null,null,-1))),l={class:"row"},c={class:"col q-pa-sm"},d={class:"col q-pa-sm"},p={class:"row"},u={class:"col q-pa-sm"},m={class:"col q-pa-sm"},h=i((()=>(0,s._)("div",{class:"text-h6"},"Movies",-1))),b=(0,s.Uk)(" Lorem ipsum dolor sit amet consectetur adipisicing elit. ");function g(t,e,a,i,g,_){const y=(0,s.up)("q-img"),v=(0,s.up)("q-tab"),w=(0,s.up)("q-tabs"),C=(0,s.up)("q-separator"),f=(0,s.up)("q-select"),k=(0,s.up)("item-layout"),T=(0,s.up)("q-tab-panel"),$=(0,s.up)("q-tab-panels"),q=(0,s.up)("q-card-section"),W=(0,s.up)("q-card"),Z=(0,s.up)("cart-section"),I=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(I,null,{default:(0,s.w5)((()=>[(0,s.Wm)(W,{class:"my-card"},{default:(0,s.w5)((()=>[(0,s.Wm)(y,{src:t.trip.vehicle_photo||"/images/default-banner.jpg",height:"140px"},{default:(0,s.w5)((()=>[(0,s._)("div",n,[(0,s.Uk)((0,o.zw)(t.trip.vehicle_name)+" ",1),r,(0,s._)("small",null,(0,o.zw)(t.trip.route_name),1)])])),_:1},8,["src"]),(0,s.Wm)(q,null,{default:(0,s.w5)((()=>[(0,s.Wm)(w,{modelValue:i.tab,"onUpdate:modelValue":e[0]||(e[0]=t=>i.tab=t),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary","narrow-indicator":""},{default:(0,s.w5)((()=>[(0,s.Wm)(v,{name:"mails",label:"Tab 1"}),(0,s.Wm)(v,{name:"alarms",label:"Tab 2"})])),_:1},8,["modelValue"]),(0,s.Wm)(C),(0,s.Wm)($,{modelValue:i.tab,"onUpdate:modelValue":e[5]||(e[5]=t=>i.tab=t)},{default:(0,s.w5)((()=>[(0,s.Wm)(T,{name:"mails"},{default:(0,s.w5)((()=>[(0,s._)("div",l,[(0,s._)("div",c,[(0,s.Wm)(f,{standout:"bg-teal text-white",modelValue:t.floor,"onUpdate:modelValue":e[1]||(e[1]=e=>t.floor=e),options:_.floors,label:"Floor",onChange:_.floorChange},null,8,["modelValue","options","onChange"])]),(0,s._)("div",d,[(0,s.Wm)(f,{standout:"bg-teal text-white",modelValue:_.cabin_type,"onUpdate:modelValue":e[2]||(e[2]=t=>_.cabin_type=t),options:_.cabinTypes,label:"Type"},null,8,["modelValue","options"])])]),(0,s.Wm)(k,{items:t.trip.cabins},null,8,["items"])])),_:1}),(0,s.Wm)(T,{name:"alarms"},{default:(0,s.w5)((()=>[(0,s._)("div",p,[(0,s._)("div",u,[(0,s.Wm)(f,{standout:"bg-teal text-white",modelValue:t.floor,"onUpdate:modelValue":e[3]||(e[3]=e=>t.floor=e),options:_.floors,label:"Floor"},null,8,["modelValue","options"])]),(0,s._)("div",m,[(0,s.Wm)(f,{standout:"bg-teal text-white",modelValue:_.seat_type,"onUpdate:modelValue":e[4]||(e[4]=t=>_.seat_type=t),options:_.seatTypes,label:"Type"},null,8,["modelValue","options"])])]),(0,s.Wm)(k,{items:t.trip.seats},null,8,["items"])])),_:1}),(0,s.Wm)(T,{name:"movies"},{default:(0,s.w5)((()=>[h,b])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,s.Wm)(Z)])),_:1})}var _=a(1959);const y=t=>((0,s.dD)("data-v-5dbc1a46"),t=t(),(0,s.Cn)(),t),v={class:"cabin-layout"},w={class:"cabins"},C={class:"overflow-auto",id:"cabinLayoutContainer"},f=["onClick"],k=y((()=>(0,s._)("div",{class:"topLap"},"AC",-1))),T={key:0,class:"checked-mark"},$={class:"cabin-number"},q={class:"cabin-price"};function W(t,e,a,i,n,r){const l=(0,s.up)("q-icon");return(0,s.wg)(),(0,s.iD)("div",v,[(0,s._)("div",w,[(0,s._)("div",C,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.items,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{class:"layoutRowCol",key:e},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{class:(0,o.C_)(["cabin",t.cabin_class]),key:e,onClick:e=>r.addToCard(e,t)},[k,"cabin-selected"===t.cabin_class?((0,s.wg)(),(0,s.iD)("div",T,[(0,s.Wm)(l,{name:"check",size:"18px"})])):(0,s.kq)("",!0),(0,s._)("div",$,(0,o.zw)(t.cabin_no),1),(0,s._)("div",q,"à§³ "+(0,o.zw)(t.fare),1)],10,f)))),128))])))),128))])])])}const Z={props:["items"],created(){console.log(this.items)},methods:{addToCard(t,e){console.log(e),1==e.status&&"cabin-active"==e.cabin_class&&(this.$parent.$q.loading.show(),this.$store.dispatch("general/addCart",{item:e,token:this.customer_token}).then((()=>{this.$parent.$q.loading.hide(),this.$parent.$q.notify({type:"positive",message:"item has been added to cart"})})).catch((t=>{console.log(t)})))},addToCartDeck(){this.$store.dispatch("general/AddDeckTicketToCart")},cabinStatus(t){var e="cabin-active";switch(t.status){case"0":e="cabin-active";break;case"1":e="cabin-disable";break}return e},filterCabinByType(t="cabin",e){this.$store.dispatch("general/FilterByType",{property:t,type:e})}}};var I=a(4260),D=a(4554),S=a(4615),x=a(7518),V=a.n(x);const Q=(0,I.Z)(Z,[["render",W],["__scopeId","data-v-5dbc1a46"]]),A=Q;V()(Z,"components",{QIcon:D.Z,QExpansionItem:S.Z});var z=a(741);a(71);const U={id:"cartSection"},j={key:0,id:"cartContent"},O={class:"row justify-center"},B=(0,s.Uk)("Checkout ");function E(t,e,a,i,n,r){const l=(0,s.up)("q-icon"),c=(0,s.up)("q-btn"),d=(0,s.up)("cart-item"),p=(0,s.up)("q-list"),u=(0,s.up)("no-result");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",U,[(0,s._)("div",{class:"cartPopup cursor-pointer",clickable:"",onClick:e[0]||(e[0]=(...t)=>r.displayCartContent&&r.displayCartContent(...t))},[t.cartContent?((0,s.wg)(),(0,s.j4)(l,{key:1,name:"keyboard_arrow_down",size:"32px"})):((0,s.wg)(),(0,s.j4)(l,{key:0,name:"expand_less",size:"32px"}))]),(0,s.Wm)(c,{flat:"",color:"primary",size:"md",id:"cartExpandButton",icon:"shopping_cart",class:"full-width",onClick:r.displayCartContent},{default:(0,s.w5)((()=>[(0,s.Uk)("Cart ("+(0,o.zw)(t.cart.length)+")",1)])),_:1},8,["onClick"]),t.cartContent?((0,s.wg)(),(0,s.iD)("div",j,[t.cart.length?((0,s.wg)(),(0,s.j4)(p,{key:0,bordered:"",separator:""},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.cart,((t,e)=>((0,s.wg)(),(0,s.j4)(d,{item:t,index:e},null,8,["item","index"])))),256))])),_:1})):((0,s.wg)(),(0,s.j4)(u,{key:1,msg:"No cart items found"})),(0,s._)("div",O,[t.cart.length?((0,s.wg)(),(0,s.j4)(c,{key:0,type:"submit",loading:t.submitting,class:"q-ma-md",color:"primary",size:"md",onClick:e[1]||(e[1]=t=>r.confirmCart(t))},{default:(0,s.w5)((()=>[B])),_:1},8,["loading"])):(0,s.kq)("",!0)])])):(0,s.kq)("",!0)])])}var P=a(5751),R=a(8877);const N={components:{NoResult:P.Z,CartItem:R.Z},created(){const t=localStorage.getItem("cart");t&&this.$store.commit("general/LOAD_CART_ITEMS",JSON.parse(t))},methods:{displayCartContent(){this.$store.commit("general/DISPLAY_CART_CONTENT",!this.cartContent),console.log(this.cartContent)},confirmCart(t){this.$router.push("/cart")},changeBoardingPoint(t,e){this.$store.dispatch("changeBoardingPoint",{id:t.target.value,index:e})}},computed:{vatOption(){return parseInt(this.getOptionByKey("vat_amount"))},cartTotal(){let t=0;for(var e=0;e<this.cart.length;e++)t+=this.cart[e].fare,"customer"===this.cart[e].vat_applicable_to&&(t+=this.cart[e].fare*(this.cart[e].vat_amount/100));return t.toFixed(2)},...(0,z.rn)("general",["cart","customer_token","cartContent"]),...(0,z.Se)(["getOptionByKey"])}};var F=a(8240),L=a(7011);const H=(0,I.Z)(N,[["render",E],["__scopeId","data-v-0472ee0d"]]),M=H;V()(N,"components",{QIcon:D.Z,QBtn:F.Z,QList:L.Z});const K={components:{ItemLayout:A,CartSection:M},setup(){return{tab:(0,_.iH)("mails")}},created(){let t=localStorage.getItem("cart");t&&this.$store.commit("general/SYNCHRONIZE_WITH_CART_ITEMS",t);const e=localStorage.getItem("trip");console.log(JSON.parse(e)),e?this.$store.commit("general/SET_TRIP_ITEM",{data:JSON.parse(e)}):this.$store.dispatch("general/viewTrip",{id:this.$route.params.id,floor:this.$store.state.general.search.floor.value,cabin_type:this.$store.state.general.search.cabin_type.value,seat_type:this.$store.state.general.search.seat_type.value}).then((()=>{this.$router.push("/booking/"+this.$route.params.id)}))},methods:{floorChange(){alert("ok")},cabinStatus(t){let e="cabin-active";switch(t.status){case"0":e="cabin-active";break;case"1":e="cabin-disable";break}return e},filterCabinByType(t="cabin",e){this.$store.dispatch("general/FilterByType",{property:t,type:e})}},computed:{cabin_type:{get(){return this.$store.state.general.search.cabin_type},set(t){this.$store.commit("general/UPDATE_FORM_DATA",{key:"cabin_type",value:t})}},seat_type:{get(){return this.$store.state.general.search.seat_type},set(t){this.$store.commit("general/UPDATE_FORM_DATA",{key:"seat_type",value:t})}},floors(){return this.trip.floors},cabinTypes(){return this.trip.cabin_types},seatTypes(){return this.trip.seat_types},...(0,z.rn)("general",["trip","searchResults"])}};var Y=a(4379),J=a(151),G=a(4027),X=a(5589),tt=a(7547),et=a(8408),at=a(5869),st=a(5906),ot=a(6602),it=a(3017);const nt=(0,I.Z)(K,[["render",g],["__scopeId","data-v-1fab74f0"]]),rt=nt;V()(K,"components",{QPage:Y.Z,QCard:J.Z,QImg:G.Z,QCardSection:X.Z,QTabs:tt.Z,QTab:et.Z,QSeparator:at.Z,QTabPanels:st.Z,QTabPanel:ot.Z,QSelect:it.Z})}}]);