"use strict";(self["webpackChunkjolzan"]=self["webpackChunkjolzan"]||[]).push([[741],{8469:(e,t,o)=>{o.r(t),o.d(t,{default:()=>z});var n=o(3673);const i={key:0,class:"absolute-center"},a=(0,n._)("div",{class:"text-primary text-h6"},"Log in please",-1),l=(0,n.Uk)("Log in");function s(e,t,o,s,r,u){const g=(0,n.up)("trip-item"),p=(0,n.up)("q-list"),d=((0,n.up)("q-spinner-dots"),(0,n.up)("q-infinite-scroll")),c=(0,n.up)("q-btn"),m=(0,n.up)("q-page");return(0,n.wg)(),(0,n.j4)(m,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,{onLoad:u.onLoad,offset:80,class:"q-pa-xs q-mt-lg"},(0,n.Nv)({default:(0,n.w5)((()=>[e.loggedIn?((0,n.wg)(),(0,n.j4)(p,{key:0},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.bookings.data,((e,t)=>((0,n.wg)(),(0,n.j4)(g,{key:t,booking:e,onClick:t=>u.goToBookingDetails(e)},null,8,["booking","onClick"])))),128))])),_:1})):(0,n.kq)("",!0)])),_:2},[void 0]),1032,["onLoad"]),e.loggedIn?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",i,[a,(0,n.Wm)(c,{class:"full-width bg-primary text-white q-mt-lg",onClick:u.goToLogin},{default:(0,n.w5)((()=>[l])),_:1},8,["onClick"])]))])),_:1})}var r=o(2323);const u=(0,n.Uk)(" PNR"),g=(0,n._)("br",null,null,-1);function p(e,t,o,i,a,l){const s=(0,n.up)("q-item-section"),p=(0,n.up)("q-item-label"),d=(0,n.up)("q-btn"),c=(0,n.up)("q-item"),m=(0,n.up)("q-separator");return(0,n.wg)(),(0,n.iD)("div",null,[((0,n.wg)(),(0,n.j4)(c,{clickable:"",key:o.booking.id},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{avatar:"",top:""},{default:(0,n.w5)((()=>[u,g,(0,n.Uk)(" "+(0,r.zw)(o.booking.pnr),1)])),_:1}),(0,n.Wm)(s,null,{default:(0,n.w5)((()=>[(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,r.zw)(o.booking.items[0].vehicle_name),1)])),_:1}),(0,n.Wm)(p,{caption:"",lines:"2"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,r.zw)(o.booking.items[0].route_name),1)])),_:1})])),_:1}),(0,n.Wm)(s,{side:"",top:""},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{caption:""},{default:(0,n.w5)((()=>[(0,n.Uk)((0,r.zw)(o.booking.booking_date_formatted),1)])),_:1}),(0,n.Wm)(d,{color:"teal",size:"sm",outline:""},{default:(0,n.w5)((()=>[(0,n.Uk)((0,r.zw)(o.booking.status),1)])),_:1})])),_:1})])),_:1})),(0,n.Wm)(m,{spaced:"",inset:""})])}const d={props:["booking"]};var c=o(4260),m=o(3414),k=o(2035),w=o(2350),b=o(8240),f=o(5869),h=o(7518),_=o.n(h);const q=(0,c.Z)(d,[["render",p]]),v=q;_()(d,"components",{QItem:m.Z,QItemSection:k.Z,QItemLabel:w.Z,QBtn:b.Z,QSeparator:f.Z});var Z=o(741);const L={components:{TripItem:v},setup(){},created(){this.$parent.$q.loading.show(),this.$store.dispatch("general/myJourney").then((()=>{this.$parent.$q.loading.hide()}))},methods:{goToBookingDetails(e){this.$store.commit("general/SHOW_BOOKING",e),this.$router.push("/trip-details/"+e.id)},onLoad(e,t){setTimeout((e=>{this.bookings.current_page!==this.bookings.last_page&&this.$store.dispatch("general/myJourney"),t()}),2e3)},goToLogin(){this.$store.commit("general/OPEN_LOGIN_FORM")}},computed:{...(0,Z.rn)("general",["bookings","loggedIn"])}};var W=o(4379),y=o(2729),I=o(7011),Q=o(4765);const $=(0,c.Z)(L,[["render",s]]),z=$;_()(L,"components",{QPage:W.Z,QInfiniteScroll:y.Z,QList:I.Z,QSpinnerDots:Q.Z,QBtn:b.Z})}}]);