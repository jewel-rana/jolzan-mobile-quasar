"use strict";(self["webpackChunkjolzan"]=self["webpackChunkjolzan"]||[]).push([[367],{285:(e,t,l)=>{l.d(t,{Z:()=>_});var a=l(3673),o=l(2323);const r={class:"q-pa-md"};function s(e,t,l,s,n,i){const u=(0,a.up)("q-card-section"),m=(0,a.up)("q-card");return(0,a.wg)(),(0,a.iD)("div",r,[(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(l.msg||"No results found"),1)])),_:1})])),_:1})])}const n={props:["msg"]};var i=l(4260),u=l(151),m=l(5589),p=l(7518),d=l.n(p);const c=(0,i.Z)(n,[["render",s]]),_=c;d()(n,"components",{QCard:u.Z,QCardSection:m.Z})},7367:(e,t,l)=>{l.r(t),l.d(t,{default:()=>ne});var a=l(3673);function o(e,t,l,o,r,s){const n=(0,a.up)("booking-form"),i=(0,a.up)("search-result"),u=(0,a.up)("no-result"),m=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(m,null,{default:(0,a.w5)((()=>[(0,a.Wm)(n),e.searchResults.length?((0,a.wg)(!0),(0,a.iD)(a.HY,{key:0},(0,a.Ko)(e.searchResults,(e=>((0,a.wg)(),(0,a.j4)(i,{item:e,onClick:t=>s.goToBooking(e)},null,8,["item","onClick"])))),256)):((0,a.wg)(),(0,a.j4)(u,{key:1}))])),_:1})}const r={class:"q-pa-md"},s={class:"q-gutter-sm"},n={class:"row items-start"},i={class:"row"},u={class:"col"},m=(0,a.Uk)(" No results "),p={class:"col"},d=(0,a.Uk)(" No results "),c={class:"row"},_={class:"col"},h={class:"row items-center justify-end"},f={class:"col"},w={class:"row items-center justify-end"},v={class:"q-gutter-sm q-ml-none"};function g(e,t,l,o,g,b){const q=(0,a.up)("q-radio"),W=(0,a.up)("q-item-section"),y=(0,a.up)("q-item"),Z=(0,a.up)("q-select"),k=(0,a.up)("q-btn"),Q=(0,a.up)("q-date"),V=(0,a.up)("q-popup-proxy"),D=(0,a.up)("q-icon"),C=(0,a.up)("q-input"),U=(0,a.up)("q-form"),x=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.iD)("div",r,[(0,a.Wm)(U,{onSubmit:b.formSubmit},{default:(0,a.w5)((()=>[(0,a._)("div",s,[(0,a.Wm)(q,{modelValue:b.trip_type,"onUpdate:modelValue":t[0]||(t[0]=e=>b.trip_type=e),val:"launch",label:"Launch"},null,8,["modelValue"]),(0,a.Wm)(q,{modelValue:b.trip_type,"onUpdate:modelValue":t[1]||(t[1]=e=>b.trip_type=e),val:"bus",label:"Bus"},null,8,["modelValue"]),(0,a.Wm)(q,{modelValue:b.trip_type,"onUpdate:modelValue":t[2]||(t[2]=e=>b.trip_type=e),val:"air",label:"Air"},null,8,["modelValue"])]),(0,a._)("div",n,[(0,a._)("div",i,[(0,a._)("div",u,[(0,a.Wm)(Z,{filled:"",modelValue:b.trip_from,"onUpdate:modelValue":t[3]||(t[3]=e=>b.trip_from=e),"use-input":"","input-debounce":"0",label:"From",options:o.options,onFilter:b.filterFn,behavior:"menu",class:"q-pa-sm"},{"no-option":(0,a.w5)((()=>[(0,a.Wm)(y,null,{default:(0,a.w5)((()=>[(0,a.Wm)(W,{class:"text-grey"},{default:(0,a.w5)((()=>[m])),_:1})])),_:1})])),_:1},8,["modelValue","options","onFilter"])]),(0,a._)("div",p,[(0,a.Wm)(Z,{filled:"",modelValue:b.trip_to,"onUpdate:modelValue":t[4]||(t[4]=e=>b.trip_to=e),"use-input":"","input-debounce":"0",label:"To",options:o.options,onFilter:b.filterFn,behavior:"menu",class:"q-pa-sm"},{"no-option":(0,a.w5)((()=>[(0,a.Wm)(y,null,{default:(0,a.w5)((()=>[(0,a.Wm)(W,{class:"text-grey"},{default:(0,a.w5)((()=>[d])),_:1})])),_:1})])),_:1},8,["modelValue","options","onFilter"])])]),(0,a._)("div",c,[(0,a._)("div",_,[(0,a.Wm)(C,{class:"q-ma-sm",filled:"",modelValue:b.trip_date,"onUpdate:modelValue":t[6]||(t[6]=e=>b.trip_date=e),label:"Journey date",mask:"date",onClick:t[7]||(t[7]=t=>e.$refs.qDateProxy.show())},{append:(0,a.w5)((()=>[(0,a.Wm)(D,{name:"event",class:"cursor-pointer"},{default:(0,a.w5)((()=>[(0,a.Wm)(V,{ref:"qDateProxy",cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,a.w5)((()=>[(0,a.Wm)(Q,{modelValue:b.trip_date,"onUpdate:modelValue":t[5]||(t[5]=e=>b.trip_date=e),onInput:b.closeFromDate},{default:(0,a.w5)((()=>[(0,a._)("div",h,[(0,a.wy)((0,a.Wm)(k,{label:"Close",color:"primary",flat:""},null,512),[[x]])])])),_:1},8,["modelValue","onInput"])])),_:1},512)])),_:1})])),_:1},8,["modelValue"])]),(0,a._)("div",f,[(0,a.Wm)(C,{class:"q-ma-sm",filled:"",modelValue:b.trip_return_date,"onUpdate:modelValue":t[9]||(t[9]=e=>b.trip_return_date=e),label:"Return date",mask:"date",onClick:t[10]||(t[10]=t=>e.$refs.qDateProxy2.show()),onInput:t[11]||(t[11]=t=>e.$refs.qDateProxy2.hide())},{append:(0,a.w5)((()=>[(0,a.Wm)(D,{name:"event",class:"cursor-pointer"},{default:(0,a.w5)((()=>[(0,a.Wm)(V,{ref:"qDateProxy2",cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,a.w5)((()=>[(0,a.Wm)(Q,{modelValue:b.trip_return_date,"onUpdate:modelValue":t[8]||(t[8]=e=>b.trip_return_date=e)},{default:(0,a.w5)((()=>[(0,a._)("div",w,[(0,a.wy)((0,a.Wm)(k,{label:"Close",color:"primary",flat:""},null,512),[[x]])])])),_:1},8,["modelValue"])])),_:1},512)])),_:1})])),_:1},8,["modelValue"])])])]),(0,a._)("div",v,[(0,a.Wm)(k,{label:"Search",type:"submit",color:"primary"})])])),_:1},8,["onSubmit"])])}let b=[{label:"Dhaka",value:"dhaka"},{label:"Barisal",value:"barisal"},{label:"Elisha",value:"elisha"},{label:"Charfashion",value:"charfashion"},{label:"Bhola",value:5}];const q={setup(){return{search:"",options:b,model:""}},methods:{formSubmit({commit:e},t){console.log(this.$store),this.$store.dispatch("general/searchTrip")},closeFromDate(){this.$refs.qStartProxy.hide()},filterFn(e,t){t(""!==e?()=>{let t=e.toLowerCase();this.options=b.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}:()=>{this.options=b})}},computed:{optionsFiltered(){return(e,t)=>{const l=this.search.toLocaleLowerCase(),a=void 0===t?e=>e.toLocaleLowerCase().indexOf(l)>-1:e=>e[t].toLocaleLowerCase().indexOf(l)>-1;return 0===l.length?e:e.filter(a)}},trip_type:{get(){return this.$store.state.general.search.type},set(e){this.$store.commit("general/UPDATE_FORM_DATA",{key:"type",value:e})}},trip_from:{get(){return this.$store.state.general.search.trip_from},set(e){this.$store.commit("general/UPDATE_FORM_DATA",{key:"trip_from",value:e})}},trip_to:{get(){return this.$store.state.general.search.trip_to},set(e){this.$store.commit("general/UPDATE_FORM_DATA",{key:"trip_to",value:e})}},trip_date:{get(){return this.$store.state.general.search.trip_date},set(e){this.$store.commit("general/UPDATE_FORM_DATA",{key:"trip_date",value:e})}},trip_return_date:{get(){return this.$store.state.general.search.trip_return_date},set(e){this.$store.commit("general/UPDATE_FORM_DATA",{key:"trip_return_date",value:e})}}}};var W=l(4260),y=l(5269),Z=l(7991),k=l(3017),Q=l(3414),V=l(2035),D=l(4842),C=l(4554),U=l(3944),x=l(6915),F=l(8240),A=l(6115),$=l(677),P=l(7518),T=l.n(P);const S=(0,W.Z)(q,[["render",g]]),z=S;T()(q,"components",{QForm:y.Z,QRadio:Z.Z,QSelect:k.Z,QItem:Q.Z,QItemSection:V.Z,QInput:D.Z,QIcon:C.Z,QPopupProxy:U.Z,QDate:x.Z,QBtn:F.Z,QField:A.Z}),T()(q,"directives",{ClosePopup:$.Z});var I=l(2323);const R={class:"q-pa-md"},L=["src"],B=(0,a.Uk)("Available");function j(e,t,l,o,r,s){const n=(0,a.up)("q-item-section"),i=(0,a.up)("q-item-label"),u=(0,a.up)("q-icon"),m=(0,a.up)("q-item"),p=(0,a.up)("q-list");return(0,a.wg)(),(0,a.iD)("div",R,[(0,a.Wm)(p,null,{default:(0,a.w5)((()=>[(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Wm)(n,{top:"",thumbnail:"",class:"q-ml-none"},{default:(0,a.w5)((()=>[(0,a._)("img",{src:l.item.vehicle_photo||"https://cdn.quasar.dev/img/mountains.jpg"},null,8,L)])),_:1}),(0,a.Wm)(n,null,{default:(0,a.w5)((()=>[(0,a.Wm)(i,{style:{"font-size":"17px",color:"dodgerblue"}},{default:(0,a.w5)((()=>[(0,a._)("strong",null,(0,I.zw)(l.item.vehicle_name),1)])),_:1}),(0,a.Wm)(i,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u,{name:"route",size:"18px"}),(0,a._)("strong",null,(0,I.zw)(l.item.route_name),1)])),_:1}),(0,a.Wm)(i,{caption:""},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{name:"event",size:"18px"}),(0,a.Uk)(" "+(0,I.zw)(l.item.leaving_at),1)])),_:1})])),_:1}),(0,a.Wm)(n,{side:"",top:"",class:"q-pa-sm"},{default:(0,a.w5)((()=>[(0,a.Wm)(i,null,{default:(0,a.w5)((()=>[B])),_:1}),(0,a.Wm)(i,{class:"q-pr-sm"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{name:"bed",size:"16px"}),(0,a.Uk)(" Cabin "+(0,I.zw)(l.item.cabin_available),1)])),_:1}),(0,a.Wm)(i,{class:"q-pr-sm"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{name:"chair",size:"16px"}),(0,a.Uk)(" Seat "+(0,I.zw)(l.item.seat_available),1)])),_:1})])),_:1})])),_:1})])),_:1})])}const O={props:["item"]};var E=l(7011),M=l(2350),N=l(151),H=l(9443),J=l(5589),K=l(5869),Y=l(9721),G=l(9367);const X=(0,W.Z)(O,[["render",j],["__scopeId","data-v-ba728410"]]),ee=X;T()(O,"components",{QList:E.Z,QItem:Q.Z,QItemSection:V.Z,QItemLabel:M.Z,QIcon:C.Z,QCard:N.Z,QParallax:H.Z,QCardSection:J.Z,QSeparator:K.Z,QBadge:Y.Z,QCardActions:G.Z,QBtn:F.Z});var te=l(285),le=l(741),ae=l(8825);const oe={setup(){(0,ae.Z)()},components:{BookingForm:z,SearchResult:ee,NoResult:te.Z},methods:{goToBooking(e){this.$store.dispatch("general/viewTrip",{id:e.trip_id,floor:e.default_floor,cabin_type:0,seat_type:0}).then((()=>{this.$router.push("/booking/"+e.trip_id)})).catch((e=>{}))}},computed:{...(0,le.rn)("general",["searchResults"])}};var re=l(4379);const se=(0,W.Z)(oe,[["render",o]]),ne=se;T()(oe,"components",{QPage:re.Z})}}]);