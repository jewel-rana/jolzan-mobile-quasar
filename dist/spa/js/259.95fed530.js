"use strict";(self["webpackChunkjolzan"]=self["webpackChunkjolzan"]||[]).push([[259],{5751:(e,t,a)=>{a.d(t,{Z:()=>_});var l=a(3673),o=a(2323);const s={class:"q-pa-md"};function r(e,t,a,r,n,i){const u=(0,l.up)("q-card-section"),m=(0,l.up)("q-card");return(0,l.wg)(),(0,l.iD)("div",s,[(0,l.Wm)(m,{class:"no-shadow"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(a.msg||"No results found"),1)])),_:1})])),_:1})])}const n={props:["msg"]};var i=a(4260),u=a(151),m=a(5589),d=a(7518),p=a.n(d);const c=(0,i.Z)(n,[["render",r]]),_=c;p()(n,"components",{QCard:u.Z,QCardSection:m.Z})},3259:(e,t,a)=>{a.r(t),a.d(t,{default:()=>re});var l=a(3673);function o(e,t,a,o,s,r){const n=(0,l.up)("booking-form"),i=(0,l.up)("search-result"),u=(0,l.up)("no-result"),m=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(m,null,{default:(0,l.w5)((()=>[(0,l.Wm)(n),e.searchResults.length?((0,l.wg)(!0),(0,l.iD)(l.HY,{key:0},(0,l.Ko)(e.searchResults,(e=>((0,l.wg)(),(0,l.j4)(i,{item:e,onClick:t=>r.goToBooking(e)},null,8,["item","onClick"])))),256)):((0,l.wg)(),(0,l.j4)(u,{key:1}))])),_:1})}const s={class:"q-pa-md"},r={class:"q-gutter-sm"},n={class:"row items-start"},i={class:"row"},u={class:"col"},m=(0,l.Uk)(" No results "),d={class:"col"},p=(0,l.Uk)(" No results "),c={class:"row"},_={class:"col"},h={class:"row items-center justify-end"},f={class:"col"},w={class:"row items-center justify-end"},g={class:"q-gutter-sm q-ml-none"};function v(e,t,a,o,v,q){const b=(0,l.up)("q-radio"),W=(0,l.up)("q-item-section"),y=(0,l.up)("q-item"),Z=(0,l.up)("q-select"),k=(0,l.up)("q-btn"),Q=(0,l.up)("q-date"),V=(0,l.up)("q-popup-proxy"),$=(0,l.up)("q-icon"),D=(0,l.up)("q-input"),U=(0,l.up)("q-form"),C=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.iD)("div",s,[(0,l.Wm)(U,{onSubmit:q.formSubmit},{default:(0,l.w5)((()=>[(0,l._)("div",r,[(0,l.Wm)(b,{modelValue:q.trip_type,"onUpdate:modelValue":t[0]||(t[0]=e=>q.trip_type=e),val:"launch",label:"Launch"},null,8,["modelValue"]),(0,l.Wm)(b,{modelValue:q.trip_type,"onUpdate:modelValue":t[1]||(t[1]=e=>q.trip_type=e),val:"bus",label:"Bus"},null,8,["modelValue"]),(0,l.Wm)(b,{modelValue:q.trip_type,"onUpdate:modelValue":t[2]||(t[2]=e=>q.trip_type=e),val:"air",label:"Air"},null,8,["modelValue"])]),(0,l._)("div",n,[(0,l._)("div",i,[(0,l._)("div",u,[(0,l.Wm)(Z,{filled:"",modelValue:q.trip_from,"onUpdate:modelValue":t[3]||(t[3]=e=>q.trip_from=e),"use-input":"","input-debounce":"0",label:"From",options:o.options,onFilter:q.filterFn,behavior:"menu",class:"q-pa-sm"},{"no-option":(0,l.w5)((()=>[(0,l.Wm)(y,null,{default:(0,l.w5)((()=>[(0,l.Wm)(W,{class:"text-grey"},{default:(0,l.w5)((()=>[m])),_:1})])),_:1})])),_:1},8,["modelValue","options","onFilter"])]),(0,l._)("div",d,[(0,l.Wm)(Z,{filled:"",modelValue:q.trip_to,"onUpdate:modelValue":t[4]||(t[4]=e=>q.trip_to=e),"use-input":"","input-debounce":"0",label:"To",options:o.options,onFilter:q.filterFn,behavior:"menu",class:"q-pa-sm"},{"no-option":(0,l.w5)((()=>[(0,l.Wm)(y,null,{default:(0,l.w5)((()=>[(0,l.Wm)(W,{class:"text-grey"},{default:(0,l.w5)((()=>[p])),_:1})])),_:1})])),_:1},8,["modelValue","options","onFilter"])])]),(0,l._)("div",c,[(0,l._)("div",_,[(0,l.Wm)(D,{class:"q-ma-sm",filled:"",modelValue:q.trip_date,"onUpdate:modelValue":t[6]||(t[6]=e=>q.trip_date=e),label:"Journey date",mask:"date",onClick:t[7]||(t[7]=t=>e.$refs.qDateProxy.show())},{append:(0,l.w5)((()=>[(0,l.Wm)($,{name:"event",class:"cursor-pointer"},{default:(0,l.w5)((()=>[(0,l.Wm)(V,{ref:"qDateProxy",cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,l.w5)((()=>[(0,l.Wm)(Q,{modelValue:q.trip_date,"onUpdate:modelValue":t[5]||(t[5]=e=>q.trip_date=e),onInput:q.closeFromDate},{default:(0,l.w5)((()=>[(0,l._)("div",h,[(0,l.wy)((0,l.Wm)(k,{label:"Close",color:"primary",flat:""},null,512),[[C]])])])),_:1},8,["modelValue","onInput"])])),_:1},512)])),_:1})])),_:1},8,["modelValue"])]),(0,l._)("div",f,[(0,l.Wm)(D,{class:"q-ma-sm",filled:"",modelValue:q.trip_return_date,"onUpdate:modelValue":t[9]||(t[9]=e=>q.trip_return_date=e),label:"Return date",mask:"date",onClick:t[10]||(t[10]=t=>e.$refs.qDateProxy2.show()),onInput:t[11]||(t[11]=t=>e.$refs.qDateProxy2.hide())},{append:(0,l.w5)((()=>[(0,l.Wm)($,{name:"event",class:"cursor-pointer"},{default:(0,l.w5)((()=>[(0,l.Wm)(V,{ref:"qDateProxy2",cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,l.w5)((()=>[(0,l.Wm)(Q,{modelValue:q.trip_return_date,"onUpdate:modelValue":t[8]||(t[8]=e=>q.trip_return_date=e)},{default:(0,l.w5)((()=>[(0,l._)("div",w,[(0,l.wy)((0,l.Wm)(k,{label:"Close",color:"primary",flat:""},null,512),[[C]])])])),_:1},8,["modelValue"])])),_:1},512)])),_:1})])),_:1},8,["modelValue"])])])]),(0,l._)("div",g,[(0,l.Wm)(k,{label:"Search",type:"submit",color:"primary"})])])),_:1},8,["onSubmit"])])}let q=[{label:"Dhaka",value:"dhaka"},{label:"Barisal",value:"barisal"},{label:"Elisha",value:"elisha"},{label:"Charfashion",value:"charfashion"},{label:"Bhola",value:5}];const b={setup(){return{search:"",options:q,model:""}},methods:{formSubmit({commit:e},t){console.log(this.$store),this.$parent.$q.loading.show(),this.$store.dispatch("general/searchTrip").then((e=>{this.$parent.$q.loading.hide()}))},closeFromDate(){this.$refs.qStartProxy.hide()},filterFn(e,t){t(""!==e?()=>{let t=e.toLowerCase();this.options=q.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}:()=>{this.options=q})}},computed:{optionsFiltered(){return(e,t)=>{const a=this.search.toLocaleLowerCase(),l=void 0===t?e=>e.toLocaleLowerCase().indexOf(a)>-1:e=>e[t].toLocaleLowerCase().indexOf(a)>-1;return 0===a.length?e:e.filter(l)}},trip_type:{get(){return this.$store.state.general.search.type},set(e){this.$store.commit("general/UPDATE_FORM_DATA",{key:"type",value:e})}},trip_from:{get(){return this.$store.state.general.search.trip_from},set(e){this.$store.commit("general/UPDATE_FORM_DATA",{key:"trip_from",value:e})}},trip_to:{get(){return this.$store.state.general.search.trip_to},set(e){this.$store.commit("general/UPDATE_FORM_DATA",{key:"trip_to",value:e})}},trip_date:{get(){return this.$store.state.general.search.trip_date},set(e){this.$store.commit("general/UPDATE_FORM_DATA",{key:"trip_date",value:e})}},trip_return_date:{get(){return this.$store.state.general.search.trip_return_date},set(e){this.$store.commit("general/UPDATE_FORM_DATA",{key:"trip_return_date",value:e})}}}};var W=a(4260),y=a(5269),Z=a(7991),k=a(3017),Q=a(3414),V=a(2035),$=a(4842),D=a(4554),U=a(3944),C=a(6915),x=a(8240),F=a(6115),A=a(677),P=a(7518),T=a.n(P);const z=(0,W.Z)(b,[["render",v]]),S=z;T()(b,"components",{QForm:y.Z,QRadio:Z.Z,QSelect:k.Z,QItem:Q.Z,QItemSection:V.Z,QInput:$.Z,QIcon:D.Z,QPopupProxy:U.Z,QDate:C.Z,QBtn:x.Z,QField:F.Z}),T()(b,"directives",{ClosePopup:A.Z});var I=a(2323);const R={class:"q-pa-md"},L=["src"],B=(0,l.Uk)("Now");function j(e,t,a,o,s,r){const n=(0,l.up)("q-item-section"),i=(0,l.up)("q-item-label"),u=(0,l.up)("q-icon"),m=(0,l.up)("q-item"),d=(0,l.up)("q-list");return(0,l.wg)(),(0,l.iD)("div",R,[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l.Wm)(m,null,{default:(0,l.w5)((()=>[(0,l.Wm)(n,{top:"",thumbnail:"",class:"q-ml-none"},{default:(0,l.w5)((()=>[(0,l._)("img",{src:a.item.vehicle_photo||"https://cdn.quasar.dev/img/mountains.jpg"},null,8,L)])),_:1}),(0,l.Wm)(n,null,{default:(0,l.w5)((()=>[(0,l.Wm)(i,{style:{"font-size":"17px",color:"dodgerblue"}},{default:(0,l.w5)((()=>[(0,l._)("strong",null,(0,I.zw)(a.item.vehicle_name),1)])),_:1}),(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u,{name:"route",size:"15px"}),(0,l._)("strong",null,(0,I.zw)(a.item.route_name),1)])),_:1}),(0,l.Wm)(i,{caption:""},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{name:"event",size:"18px"}),(0,l.Uk)(" "+(0,I.zw)(a.item.leaving_at),1)])),_:1})])),_:1}),(0,l.Wm)(n,{side:"",top:"",class:"q-pa-sm"},{default:(0,l.w5)((()=>[(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[B])),_:1}),(0,l.Wm)(i,{class:"q-pr-sm"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{name:"bed",size:"16px"}),(0,l.Uk)(" "+(0,I.zw)(a.item.cabin_available),1)])),_:1}),(0,l.Wm)(i,{class:"q-pr-sm"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{name:"chair",size:"16px"}),(0,l.Uk)(" "+(0,I.zw)(a.item.seat_available),1)])),_:1})])),_:1})])),_:1})])),_:1})])}const O={props:["item"]};var E=a(7011),M=a(2350),N=a(151),H=a(9443),J=a(5589),K=a(5869),Y=a(9721),G=a(9367);const X=(0,W.Z)(O,[["render",j],["__scopeId","data-v-3d8c9ec8"]]),ee=X;T()(O,"components",{QList:E.Z,QItem:Q.Z,QItemSection:V.Z,QItemLabel:M.Z,QIcon:D.Z,QCard:N.Z,QParallax:H.Z,QCardSection:J.Z,QSeparator:K.Z,QBadge:Y.Z,QCardActions:G.Z,QBtn:x.Z});var te=a(5751),ae=a(741);const le={setup(){},components:{BookingForm:S,SearchResult:ee,NoResult:te.Z},methods:{goToBooking(e){this.$parent.$q.loading.show(),this.$store.dispatch("general/viewTrip",{id:e.trip_id,floor:e.default_floor,cabin_type:0,seat_type:0}).then((()=>{this.$parent.$q.loading.hide(),this.$router.push("/booking/"+e.trip_id)})).catch((e=>{}))}},computed:{...(0,ae.rn)("general",["searchResults"])}};var oe=a(4379);const se=(0,W.Z)(le,[["render",o]]),re=se;T()(le,"components",{QPage:oe.Z})}}]);