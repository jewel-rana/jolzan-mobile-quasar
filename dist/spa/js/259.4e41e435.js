"use strict";(self["webpackChunkjolzan"]=self["webpackChunkjolzan"]||[]).push([[259],{3259:(e,t,l)=>{l.r(t),l.d(t,{default:()=>se});var a=l(3673);function o(e,t,l,o,r,s){const i=(0,a.up)("booking-form"),n=(0,a.up)("search-result"),u=(0,a.up)("no-result"),m=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(m,null,{default:(0,a.w5)((()=>[(0,a.Wm)(i),e.searchResults.length?((0,a.wg)(!0),(0,a.iD)(a.HY,{key:0},(0,a.Ko)(e.searchResults,(e=>((0,a.wg)(),(0,a.j4)(n,{item:e,onClick:t=>s.goToBooking(e)},null,8,["item","onClick"])))),256)):((0,a.wg)(),(0,a.j4)(u,{key:1}))])),_:1})}const r={class:"q-pa-md"},s={class:"q-gutter-sm"},i={class:"row items-start"},n={class:"row"},u={class:"col"},m=(0,a.Uk)(" No results "),p={class:"col"},d=(0,a.Uk)(" No results "),c={class:"row"},_={class:"col"},h={class:"row items-center justify-end"},f={class:"col"},w={class:"row items-center justify-end"},g={class:"q-gutter-sm q-ml-none"};function v(e,t,l,o,v,b){const q=(0,a.up)("q-radio"),y=(0,a.up)("q-item-section"),W=(0,a.up)("q-item"),k=(0,a.up)("q-select"),Z=(0,a.up)("q-btn"),V=(0,a.up)("q-date"),$=(0,a.up)("q-popup-proxy"),Q=(0,a.up)("q-icon"),D=(0,a.up)("q-input"),U=(0,a.up)("q-form"),x=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.iD)("div",r,[(0,a.Wm)(U,{onSubmit:b.formSubmit},{default:(0,a.w5)((()=>[(0,a._)("div",s,[(0,a.Wm)(q,{modelValue:b.trip_type,"onUpdate:modelValue":t[0]||(t[0]=e=>b.trip_type=e),val:"launch",label:"Launch"},null,8,["modelValue"]),(0,a.Wm)(q,{modelValue:b.trip_type,"onUpdate:modelValue":t[1]||(t[1]=e=>b.trip_type=e),val:"bus",label:"Bus"},null,8,["modelValue"]),(0,a.Wm)(q,{modelValue:b.trip_type,"onUpdate:modelValue":t[2]||(t[2]=e=>b.trip_type=e),val:"air",label:"Air"},null,8,["modelValue"])]),(0,a._)("div",i,[(0,a._)("div",n,[(0,a._)("div",u,[(0,a.Wm)(k,{filled:"",modelValue:b.trip_from,"onUpdate:modelValue":t[3]||(t[3]=e=>b.trip_from=e),"use-input":"","input-debounce":"0",label:"From",options:o.options,onFilter:b.filterFn,behavior:"menu",class:"q-pa-sm"},{"no-option":(0,a.w5)((()=>[(0,a.Wm)(W,null,{default:(0,a.w5)((()=>[(0,a.Wm)(y,{class:"text-grey"},{default:(0,a.w5)((()=>[m])),_:1})])),_:1})])),_:1},8,["modelValue","options","onFilter"])]),(0,a._)("div",p,[(0,a.Wm)(k,{filled:"",modelValue:b.trip_to,"onUpdate:modelValue":t[4]||(t[4]=e=>b.trip_to=e),"use-input":"","input-debounce":"0",label:"To",options:o.options,onFilter:b.filterFn,behavior:"menu",class:"q-pa-sm"},{"no-option":(0,a.w5)((()=>[(0,a.Wm)(W,null,{default:(0,a.w5)((()=>[(0,a.Wm)(y,{class:"text-grey"},{default:(0,a.w5)((()=>[d])),_:1})])),_:1})])),_:1},8,["modelValue","options","onFilter"])])]),(0,a._)("div",c,[(0,a._)("div",_,[(0,a.Wm)(D,{class:"q-ma-sm",filled:"",modelValue:b.trip_date,"onUpdate:modelValue":t[6]||(t[6]=e=>b.trip_date=e),label:"Journey date",mask:"date",onClick:t[7]||(t[7]=t=>e.$refs.qDateProxy.show())},{append:(0,a.w5)((()=>[(0,a.Wm)(Q,{name:"event",class:"cursor-pointer"},{default:(0,a.w5)((()=>[(0,a.Wm)($,{ref:"qDateProxy",cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,a.w5)((()=>[(0,a.Wm)(V,{modelValue:b.trip_date,"onUpdate:modelValue":t[5]||(t[5]=e=>b.trip_date=e),onInput:b.closeFromDate},{default:(0,a.w5)((()=>[(0,a._)("div",h,[(0,a.wy)((0,a.Wm)(Z,{label:"Close",color:"primary",flat:""},null,512),[[x]])])])),_:1},8,["modelValue","onInput"])])),_:1},512)])),_:1})])),_:1},8,["modelValue"])]),(0,a._)("div",f,[(0,a.Wm)(D,{class:"q-ma-sm",filled:"",modelValue:b.trip_return_date,"onUpdate:modelValue":t[9]||(t[9]=e=>b.trip_return_date=e),label:"Return date",mask:"date",onClick:t[10]||(t[10]=t=>e.$refs.qDateProxy2.show()),onInput:t[11]||(t[11]=t=>e.$refs.qDateProxy2.hide())},{append:(0,a.w5)((()=>[(0,a.Wm)(Q,{name:"event",class:"cursor-pointer"},{default:(0,a.w5)((()=>[(0,a.Wm)($,{ref:"qDateProxy2",cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,a.w5)((()=>[(0,a.Wm)(V,{modelValue:b.trip_return_date,"onUpdate:modelValue":t[8]||(t[8]=e=>b.trip_return_date=e)},{default:(0,a.w5)((()=>[(0,a._)("div",w,[(0,a.wy)((0,a.Wm)(Z,{label:"Close",color:"primary",flat:""},null,512),[[x]])])])),_:1},8,["modelValue"])])),_:1},512)])),_:1})])),_:1},8,["modelValue"])])])]),(0,a._)("div",g,[(0,a.Wm)(Z,{label:"Search",type:"submit",color:"primary"})])])),_:1},8,["onSubmit"])])}let b=[{label:"Dhaka",value:"dhaka"},{label:"Barisal",value:"barisal"},{label:"Elisha",value:"elisha"},{label:"Charfashion",value:"charfashion"},{label:"Bhola",value:5}];const q={setup(){return{search:"",options:b,model:""}},methods:{formSubmit({commit:e},t){console.log(this.$store),this.$parent.$q.loading.show(),this.$store.dispatch("general/searchTrip").then((e=>{this.$parent.$q.loading.hide()}))},closeFromDate(){this.$refs.qStartProxy.hide()},filterFn(e,t){t(""!==e?()=>{let t=e.toLowerCase();this.options=b.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}:()=>{this.options=b})}},computed:{optionsFiltered(){return(e,t)=>{const l=this.search.toLocaleLowerCase(),a=void 0===t?e=>e.toLocaleLowerCase().indexOf(l)>-1:e=>e[t].toLocaleLowerCase().indexOf(l)>-1;return 0===l.length?e:e.filter(a)}},trip_type:{get(){return this.$store.state.general.search.type},set(e){this.$store.commit("general/UPDATE_FORM_DATA",{key:"type",value:e})}},trip_from:{get(){return this.$store.state.general.search.trip_from},set(e){this.$store.commit("general/UPDATE_FORM_DATA",{key:"trip_from",value:e})}},trip_to:{get(){return this.$store.state.general.search.trip_to},set(e){this.$store.commit("general/UPDATE_FORM_DATA",{key:"trip_to",value:e})}},trip_date:{get(){return this.$store.state.general.search.trip_date},set(e){this.$store.commit("general/UPDATE_FORM_DATA",{key:"trip_date",value:e})}},trip_return_date:{get(){return this.$store.state.general.search.trip_return_date},set(e){this.$store.commit("general/UPDATE_FORM_DATA",{key:"trip_return_date",value:e})}}}};var y=l(4260),W=l(5269),k=l(7991),Z=l(3017),V=l(3414),$=l(2035),Q=l(4842),D=l(4554),U=l(3944),x=l(6915),F=l(8240),C=l(6115),A=l(677),P=l(7518),T=l.n(P);const z=(0,y.Z)(q,[["render",v]]),I=z;T()(q,"components",{QForm:W.Z,QRadio:k.Z,QSelect:Z.Z,QItem:V.Z,QItemSection:$.Z,QInput:Q.Z,QIcon:D.Z,QPopupProxy:U.Z,QDate:x.Z,QBtn:F.Z,QField:C.Z}),T()(q,"directives",{ClosePopup:A.Z});var R=l(2323);const S={class:"q-pa-md"},L=["src"],B=(0,a.Uk)("Now");function j(e,t,l,o,r,s){const i=(0,a.up)("q-item-section"),n=(0,a.up)("q-item-label"),u=(0,a.up)("q-icon"),m=(0,a.up)("q-item"),p=(0,a.up)("q-list");return(0,a.wg)(),(0,a.iD)("div",S,[(0,a.Wm)(p,null,{default:(0,a.w5)((()=>[(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Wm)(i,{top:"",thumbnail:"",class:"q-ml-none"},{default:(0,a.w5)((()=>[(0,a._)("img",{src:l.item.vehicle_photo||"https://cdn.quasar.dev/img/mountains.jpg"},null,8,L)])),_:1}),(0,a.Wm)(i,null,{default:(0,a.w5)((()=>[(0,a.Wm)(n,{style:{"font-size":"17px",color:"dodgerblue"}},{default:(0,a.w5)((()=>[(0,a._)("strong",null,(0,R.zw)(l.item.vehicle_name),1)])),_:1}),(0,a.Wm)(n,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u,{name:"route",size:"15px"}),(0,a._)("strong",null,(0,R.zw)(l.item.route_name),1)])),_:1}),(0,a.Wm)(n,{caption:""},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{name:"event",size:"18px"}),(0,a.Uk)(" "+(0,R.zw)(l.item.leaving_at),1)])),_:1})])),_:1}),(0,a.Wm)(i,{side:"",top:"",class:"q-pa-sm"},{default:(0,a.w5)((()=>[(0,a.Wm)(n,null,{default:(0,a.w5)((()=>[B])),_:1}),(0,a.Wm)(n,{class:"q-pr-sm"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{name:"bed",size:"16px"}),(0,a.Uk)(" "+(0,R.zw)(l.item.cabin_available),1)])),_:1}),(0,a.Wm)(n,{class:"q-pr-sm"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{name:"chair",size:"16px"}),(0,a.Uk)(" "+(0,R.zw)(l.item.seat_available),1)])),_:1})])),_:1})])),_:1})])),_:1})])}const O={props:["item"]};var E=l(7011),M=l(2350),N=l(151),H=l(9443),J=l(5589),K=l(5869),Y=l(9721),G=l(9367);const X=(0,y.Z)(O,[["render",j],["__scopeId","data-v-3d8c9ec8"]]),ee=X;T()(O,"components",{QList:E.Z,QItem:V.Z,QItemSection:$.Z,QItemLabel:M.Z,QIcon:D.Z,QCard:N.Z,QParallax:H.Z,QCardSection:J.Z,QSeparator:K.Z,QBadge:Y.Z,QCardActions:G.Z,QBtn:F.Z});var te=l(5751),le=l(741);const ae={setup(){},components:{BookingForm:I,SearchResult:ee,NoResult:te.Z},methods:{goToBooking(e){this.$parent.$q.loading.show(),this.$store.dispatch("general/viewTrip",{id:e.trip_id,floor:e.default_floor,cabin_type:0,seat_type:0}).then((()=>{this.$parent.$q.loading.hide(),this.$router.push("/booking/"+e.trip_id)})).catch((e=>{}))}},computed:{...(0,le.rn)("general",["searchResults"])}};var oe=l(4379);const re=(0,y.Z)(ae,[["render",o]]),se=re;T()(ae,"components",{QPage:oe.Z})}}]);