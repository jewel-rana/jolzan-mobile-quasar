"use strict";(self["webpackChunkjolzan"]=self["webpackChunkjolzan"]||[]).push([[229],{7229:(e,t,a)=>{a.r(t),a.d(t,{default:()=>re});var l=a(3673);function o(e,t,a,o,s,r){const i=(0,l.up)("booking-form"),n=(0,l.up)("search-result"),u=(0,l.up)("no-result"),d=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(d,null,{default:(0,l.w5)((()=>[(0,l.Wm)(i),e.searchResults.length?((0,l.wg)(!0),(0,l.iD)(l.HY,{key:0},(0,l.Ko)(e.searchResults,(e=>((0,l.wg)(),(0,l.j4)(n,{item:e,onClick:t=>r.goToBooking(e)},null,8,["item","onClick"])))),256)):((0,l.wg)(),(0,l.j4)(u,{key:1}))])),_:1})}const s={class:"q-pa-md"},r={class:"q-gutter-sm"},i={class:"row items-start"},n={class:"row"},u={class:"col"},d=(0,l.Uk)(" No results "),p={class:"col"},m=(0,l.Uk)(" No results "),c={class:"row"},_={class:"col"},h={class:"row items-center justify-end"},f={class:"col"},w={class:"row items-center justify-end"},g={class:"q-gutter-sm q-ml-none"};function v(e,t,a,o,v,b){const q=(0,l.up)("q-radio"),y=(0,l.up)("q-item-section"),W=(0,l.up)("q-item"),$=(0,l.up)("q-select"),k=(0,l.up)("q-btn"),Z=(0,l.up)("q-date"),Q=(0,l.up)("q-popup-proxy"),V=(0,l.up)("q-icon"),D=(0,l.up)("q-input"),F=(0,l.up)("q-form"),x=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.iD)("div",s,[(0,l.Wm)(F,{onSubmit:b.formSubmit},{default:(0,l.w5)((()=>[(0,l._)("div",r,[(0,l.Wm)(q,{modelValue:b.trip_type,"onUpdate:modelValue":t[0]||(t[0]=e=>b.trip_type=e),val:"launch",label:"Launch"},null,8,["modelValue"]),(0,l.Wm)(q,{modelValue:b.trip_type,"onUpdate:modelValue":t[1]||(t[1]=e=>b.trip_type=e),val:"bus",label:"Bus",disable:""},null,8,["modelValue"])]),(0,l._)("div",i,[(0,l._)("div",n,[(0,l._)("div",u,[(0,l.Wm)($,{filled:"",modelValue:b.trip_from,"onUpdate:modelValue":t[2]||(t[2]=e=>b.trip_from=e),"use-input":"","input-debounce":"0",label:"From",options:o.options,onFilter:b.filterFn,behavior:"dialog",class:"q-pa-sm"},{"no-option":(0,l.w5)((()=>[(0,l.Wm)(W,null,{default:(0,l.w5)((()=>[(0,l.Wm)(y,{class:"text-grey"},{default:(0,l.w5)((()=>[d])),_:1})])),_:1})])),_:1},8,["modelValue","options","onFilter"])]),(0,l._)("div",p,[(0,l.Wm)($,{filled:"",modelValue:b.trip_to,"onUpdate:modelValue":t[3]||(t[3]=e=>b.trip_to=e),"use-input":"","input-debounce":"0",label:"To",options:o.options,onFilter:b.filterFn,behavior:"dialog",class:"q-pa-sm"},{"no-option":(0,l.w5)((()=>[(0,l.Wm)(W,null,{default:(0,l.w5)((()=>[(0,l.Wm)(y,{class:"text-grey"},{default:(0,l.w5)((()=>[m])),_:1})])),_:1})])),_:1},8,["modelValue","options","onFilter"])])]),(0,l._)("div",c,[(0,l._)("div",_,[(0,l.Wm)(D,{class:"q-ma-sm",filled:"",modelValue:b.trip_date,"onUpdate:modelValue":t[6]||(t[6]=e=>b.trip_date=e),label:"Journey date",mask:"date",onInput:t[7]||(t[7]=e=>b.removeFocus(e))},{append:(0,l.w5)((()=>[(0,l.Wm)(V,{name:"event",class:"cursor-pointer"},{default:(0,l.w5)((()=>[(0,l.Wm)(Q,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,l.w5)((()=>[(0,l.Wm)(Z,{modelValue:b.trip_date,"onUpdate:modelValue":t[4]||(t[4]=e=>b.trip_date=e),onInput:t[5]||(t[5]=t=>e.$refs.qDateProxy.hide())},{default:(0,l.w5)((()=>[(0,l._)("div",h,[(0,l.wy)((0,l.Wm)(k,{label:"Ok",color:"primary",flat:""},null,512),[[x]])])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"])]),(0,l._)("div",f,[(0,l.Wm)(D,{class:"q-ma-sm",filled:"",modelValue:b.trip_return_date,"onUpdate:modelValue":t[10]||(t[10]=e=>b.trip_return_date=e),label:"Return date",mask:"date"},{append:(0,l.w5)((()=>[(0,l.Wm)(V,{name:"event",class:"cursor-pointer"},{default:(0,l.w5)((()=>[(0,l.Wm)(Q,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,l.w5)((()=>[(0,l.Wm)(Z,{modelValue:b.trip_return_date,"onUpdate:modelValue":t[8]||(t[8]=e=>b.trip_return_date=e),onInput:t[9]||(t[9]=t=>e.$refs.qDateProxy.hide())},{default:(0,l.w5)((()=>[(0,l._)("div",w,[(0,l.wy)((0,l.Wm)(k,{label:"Ok",color:"primary",flat:""},null,512),[[x]])])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])])]),(0,l._)("div",g,[(0,l.Wm)(k,{label:"Search",type:"submit",color:"primary"})])])),_:1},8,["onSubmit"])])}let b=[{label:"Dhaka",value:"dhaka"},{label:"Barisal",value:"barisal"},{label:"Elisha",value:"elisha"},{label:"Charfashion",value:"charfashion"},{label:"Bhola",value:5}];const q={setup(){return{search:"",options:b,model:""}},methods:{ShowStartDatePicker(){this.$refs.qDateProxy.show(),this.$el.blur()},closeDialog(){alert("ok"),this.$refs.qDateProxy.hide(),this.$refs.qDateProxy2.hide()},removeFocus(e){console.log(e)},formSubmit({commit:e},t){this.$parent.$q.loading.show(),this.$store.dispatch("general/searchTrip").then((e=>{this.$parent.$q.loading.hide()}))},closeFromDate(){this.$refs.qStartProxy.hide()},filterFn(e,t){t(""!==e?()=>{let t=e.toLowerCase();this.options=b.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}:()=>{this.options=b})}},computed:{optionsFiltered(){return(e,t)=>{const a=this.search.toLocaleLowerCase(),l=void 0===t?e=>e.toLocaleLowerCase().indexOf(a)>-1:e=>e[t].toLocaleLowerCase().indexOf(a)>-1;return 0===a.length?e:e.filter(l)}},trip_type:{get(){return this.$store.state.general.search.type},set(e){this.$store.commit("general/UPDATE_FORM_DATA",{key:"type",value:e})}},trip_from:{get(){return this.$store.state.general.search.trip_from},set(e){this.$store.commit("general/UPDATE_FORM_DATA",{key:"trip_from",value:e})}},trip_to:{get(){return this.$store.state.general.search.trip_to},set(e){this.$store.commit("general/UPDATE_FORM_DATA",{key:"trip_to",value:e})}},trip_date:{get(){return this.$store.state.general.search.trip_date},set(e){this.$store.commit("general/UPDATE_FORM_DATA",{key:"trip_date",value:e})}},trip_return_date:{get(){return this.$store.state.general.search.trip_return_date},set(e){this.$store.commit("general/UPDATE_FORM_DATA",{key:"trip_return_date",value:e})}}}};var y=a(4260),W=a(5269),$=a(7991),k=a(3017),Z=a(3414),Q=a(2035),V=a(4842),D=a(4554),F=a(3944),x=a(6915),U=a(8240),P=a(6115),A=a(677),T=a(7518),C=a.n(T);const S=(0,y.Z)(q,[["render",v]]),z=S;C()(q,"components",{QForm:W.Z,QRadio:$.Z,QSelect:k.Z,QItem:Z.Z,QItemSection:Q.Z,QInput:V.Z,QIcon:D.Z,QPopupProxy:F.Z,QDate:x.Z,QBtn:U.Z,QField:P.Z}),C()(q,"directives",{ClosePopup:A.Z});var I=a(2323);const R={class:"q-pa-md"},L=["src"],O=(0,l.Uk)("Now");function B(e,t,a,o,s,r){const i=(0,l.up)("q-item-section"),n=(0,l.up)("q-item-label"),u=(0,l.up)("q-icon"),d=(0,l.up)("q-item"),p=(0,l.up)("q-list");return(0,l.wg)(),(0,l.iD)("div",R,[(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l.Wm)(i,{top:"",thumbnail:"",class:"q-ml-none"},{default:(0,l.w5)((()=>[(0,l._)("img",{src:a.item.vehicle_photo||"https://cdn.quasar.dev/img/mountains.jpg"},null,8,L)])),_:1}),(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[(0,l.Wm)(n,{style:{"font-size":"17px",color:"dodgerblue"}},{default:(0,l.w5)((()=>[(0,l._)("strong",null,(0,I.zw)(a.item.vehicle_name),1)])),_:1}),(0,l.Wm)(n,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u,{name:"route",size:"15px"}),(0,l._)("strong",null,(0,I.zw)(a.item.route_name),1)])),_:1}),(0,l.Wm)(n,{caption:""},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{name:"event",size:"18px"}),(0,l.Uk)(" "+(0,I.zw)(a.item.leaving_at),1)])),_:1})])),_:1}),(0,l.Wm)(i,{side:"",top:"",class:"q-pa-sm"},{default:(0,l.w5)((()=>[(0,l.Wm)(n,null,{default:(0,l.w5)((()=>[O])),_:1}),(0,l.Wm)(n,{class:"q-pr-sm"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{name:"bed",size:"16px"}),(0,l.Uk)(" "+(0,I.zw)(a.item.cabin_available),1)])),_:1}),(0,l.Wm)(n,{class:"q-pr-sm"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{name:"chair",size:"16px"}),(0,l.Uk)(" "+(0,I.zw)(a.item.seat_available),1)])),_:1})])),_:1})])),_:1})])),_:1})])}const j={props:["item"]};var E=a(7011),M=a(2350),N=a(151),H=a(9443),J=a(5589),K=a(5869),Y=a(9721),G=a(9367);const X=(0,y.Z)(j,[["render",B],["__scopeId","data-v-3d8c9ec8"]]),ee=X;C()(j,"components",{QList:E.Z,QItem:Z.Z,QItemSection:Q.Z,QItemLabel:M.Z,QIcon:D.Z,QCard:N.Z,QParallax:H.Z,QCardSection:J.Z,QSeparator:K.Z,QBadge:Y.Z,QCardActions:G.Z,QBtn:U.Z});var te=a(5751),ae=a(741);const le={setup(){},components:{BookingForm:z,SearchResult:ee,NoResult:te.Z},created(){this.$parent.$q.loading.show(),this.$store.dispatch("general/searchTrip").then((()=>{this.$parent.$q.loading.hide()}))},methods:{goToBooking(e){this.$parent.$q.loading.show(),this.$store.dispatch("general/viewTrip",{id:e.trip_id,floor:e.default_floor,cabin_type:0,seat_type:0}).then((()=>{this.$parent.$q.loading.hide(),this.$router.push("/booking/"+e.trip_id)})).catch((e=>{}))}},computed:{...(0,ae.rn)("general",["searchResults"])}};var oe=a(4379);const se=(0,y.Z)(le,[["render",o]]),re=se;C()(le,"components",{QPage:oe.Z})}}]);