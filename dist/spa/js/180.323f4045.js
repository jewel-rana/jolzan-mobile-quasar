"use strict";(self["webpackChunkjolzan"]=self["webpackChunkjolzan"]||[]).push([[180],{9180:(t,e,s)=>{s.r(e),s.d(e,{default:()=>rt});var a=s(3673),o=s(2323);const i=(0,a._)("div",{class:"text-teal-3 text-bold"},"Booking Info",-1),n={id:"bookingInfo"},l={class:"row"},c=(0,a._)("div",{class:"col-7"},"PNR Number",-1),r={class:"col-5"},d={class:"row q-pt-sm"},m=(0,a._)("div",{class:"col-7"},"Booking date",-1),g={class:"col-5"},u={class:"row q-pt-sm"},_=(0,a._)("div",{class:"col-7"},"Booking Status",-1),p={class:"col-5"},k=(0,a._)("div",{class:"text-teal-3 text-bold q-mt-lg"},"Payment Info",-1),w={id:"paymentInfo"},v={class:"row"},h=(0,a._)("div",{class:"col-7"},"Ticket fees",-1),b={class:"col-5"},q={class:"row q-pt-sm"},f=(0,a._)("div",{class:"col-7"},"Vat",-1),x={class:"col-5"},z={class:"row q-pt-sm"},W=(0,a._)("div",{class:"col-7"},"Service charge",-1),y={class:"col-5"},I={class:"row q-pt-sm"},P=(0,a._)("div",{class:"col-7"},"Discount",-1),Z={class:"col-5"},D={class:"row q-pt-sm"},$=(0,a._)("div",{class:"col-7"},"Gross total",-1),Q={class:"col-5"},S={class:"row q-pt-sm"},Y=(0,a._)("div",{class:"col-7"},"Dues",-1),C={class:"col-5"},j=(0,a.Uk)("Pay now "),B=(0,a._)("div",{class:"text-teal-3 text-bold q-mt-lg"},"Tickets",-1),T={id:"ticketItems"};function M(t,e,s,M,N,E){const H=(0,a.up)("q-separator"),R=(0,a.up)("q-btn"),U=(0,a.up)("ticket-item"),A=(0,a.up)("q-list"),G=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(G,{class:"q-pa-md"},{default:(0,a.w5)((()=>[i,(0,a.Wm)(H),(0,a._)("div",n,[(0,a._)("div",l,[c,(0,a._)("div",r,": "+(0,o.zw)(t.booking.pnr),1)]),(0,a.Wm)(H),(0,a._)("div",d,[m,(0,a._)("div",g,": "+(0,o.zw)(t.booking.booking_date),1)]),(0,a.Wm)(H),(0,a._)("div",u,[_,(0,a._)("div",p,": "+(0,o.zw)(t.booking.status),1)])]),k,(0,a.Wm)(H),(0,a._)("div",w,[(0,a._)("div",v,[h,(0,a._)("div",b,": "+(0,o.zw)(t.booking.total_amount),1)]),(0,a.Wm)(H),(0,a._)("div",q,[f,(0,a._)("div",x,": "+(0,o.zw)(t.booking.vat_total),1)]),(0,a.Wm)(H),(0,a._)("div",z,[W,(0,a._)("div",y,": "+(0,o.zw)(t.booking.charge_total),1)]),(0,a.Wm)(H),(0,a._)("div",I,[P,(0,a._)("div",Z,": "+(0,o.zw)(t.booking.total_discount),1)]),(0,a.Wm)(H),(0,a._)("div",D,[$,(0,a._)("div",Q,": "+(0,o.zw)(t.booking.total_payable),1)]),(0,a.Wm)(H),(0,a._)("div",S,[Y,(0,a._)("div",C,[(0,a.Uk)(": "+(0,o.zw)(t.booking.total_dues)+" ",1),t.booking.total_dues>0?((0,a.wg)(),(0,a.j4)(R,{key:0,class:"q-mb-sm",size:"sm",color:"orange",onClick:e[0]||(e[0]=e=>E.gotToPayment(t.booking.pnr))},{default:(0,a.w5)((()=>[j])),_:1})):(0,a.kq)("",!0)])])]),B,(0,a.Wm)(H),(0,a._)("div",T,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.booking.items,((t,e)=>((0,a.wg)(),(0,a.iD)("fieldset",{key:e,class:"q-mb-lg"},[(0,a._)("legend",null,(0,o.zw)(t.date),1),(0,a.Wm)(A,null,{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.tickets,(t=>((0,a.wg)(),(0,a.j4)(U,{item:t,index:t.id},null,8,["item","index"])))),256))])),_:2},1024)])))),128))])])),_:1})}var N=s(741);const E={class:"text-weight-medium"},H={class:"text-grey-8 text-bold"};function R(t,e,s,i,n,l){const c=(0,a.up)("q-icon"),r=(0,a.up)("q-item-label"),d=(0,a.up)("q-item-section"),m=(0,a.up)("q-item"),g=((0,a.up)("q-radio"),(0,a.up)("q-separator"));(0,a.up)("q-input");return(0,a.wg)(),(0,a.iD)("div",null,[((0,a.wg)(),(0,a.j4)(m,{key:s.index,class:(0,o.C_)(l.ticketStatus)},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{avatar:"",top:""},{default:(0,a.w5)((()=>["cabin"===s.item.cabin_type?((0,a.wg)(),(0,a.j4)(c,{key:0,name:"bed",color:"black",size:"26px"})):(0,a.kq)("",!0),"seat"===s.item.cabin_type?((0,a.wg)(),(0,a.j4)(c,{key:1,name:"chair",color:"black",size:"26px"})):(0,a.kq)("",!0),(0,a.Wm)(r,{lines:"1"},{default:(0,a.w5)((()=>[(0,a._)("small",null,(0,o.zw)(s.item.cabin_no),1)])),_:1})])),_:1}),(0,a.Wm)(d,{top:""},{default:(0,a.w5)((()=>[(0,a.Wm)(r,{lines:"1"},{default:(0,a.w5)((()=>[(0,a._)("span",E,(0,o.zw)(s.item.vehicle_name),1)])),_:1}),(0,a.Wm)(r,null,{default:(0,a.w5)((()=>[(0,a._)("span",H,(0,o.zw)(s.item.route_name),1)])),_:1})])),_:1}),(0,a.Wm)(d,{top:"",side:"",class:"q-pl-xs"},{default:(0,a.w5)((()=>[(0,a.Wm)(r,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(s.item.price)+"/-",1)])),_:1})])),_:1})])),_:1},8,["class"])),(0,a.kq)("",!0),(0,a.Wm)(g)])}const U={props:["item","index"],methods:{removeCartItem(t){console.log(t);const e=this.cart[t];this.$parent.$q.loading.show(),this.$store.dispatch("general/removeItemFromCart",{item:e,index:t,token:this.customer_token}).then((()=>{this.$parent.$q.loading.hide(),this.cart})).catch((t=>{}))},togglePassengerDetails(t,e){let s=t.target.value;this.$store.commit("CHANGE_PASSENGER_TYPE",{index:e,value:s})},getHumanDate:function(t){return moment(t,"YYYY-MM-DD").format("DD/MM/YYYY")},changeBoardingPoint(t,e){this.$store.dispatch("general/changeBoardingPoint",{id:t.target.value,index:e})},changePassengerName(t,e,s){console.log(s)},changePassengerMobile(t,e){this.$store.dispatch("general/changePassengerMobile",{name:t.target.value,index:e})},ticketStatusIcon(){let t="pending";switch(this.item.status){case"1":t="ok";break;case"2":t="cancel_presentation";break}return t}},computed:{ticketStatus(){let t="Pending";switch(this.item.status){case 1:t="Success";break;case 2:t="Canceled";break}return t},passengerType:{get(t){return console.log(t),!0},set(t,e){console.log(e)}},...(0,N.rn)("general",["cart","customer_token","order"])}};var A=s(4260),G=s(3414),K=s(2035),L=s(4554),F=s(2350),V=s(8240),J=s(7991),O=s(5869),X=s(4842),tt=s(7518),et=s.n(tt);const st=(0,A.Z)(U,[["render",R],["__scopeId","data-v-6a1b6d02"]]),at=st;et()(U,"components",{QItem:G.Z,QItemSection:K.Z,QIcon:L.Z,QItemLabel:F.Z,QBtn:V.Z,QRadio:J.Z,QSeparator:O.Z,QInput:X.Z});var ot=s(545);const it={components:{TicketItem:at},created(){this.booking&&(this.$parent.$q.loading.show(),this.$store.dispatch("general/bookingDetails",this.$route.params.id).then((()=>{this.$parent.$q.loading.hide()})))},methods:{gotToPayment(t){window.location.href=ot.Z.BACKEND_URL+"/checkout/paynow/"+t}},computed:{...(0,N.rn)("general",["booking"])}};var nt=s(4379),lt=s(7011);const ct=(0,A.Z)(it,[["render",M]]),rt=ct;et()(it,"components",{QPage:nt.Z,QSeparator:O.Z,QBtn:V.Z,QList:lt.Z})}}]);