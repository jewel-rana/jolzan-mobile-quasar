"use strict";(self["webpackChunkjolzan"]=self["webpackChunkjolzan"]||[]).push([[395],{9894:(e,t,a)=>{a.d(t,{Z:()=>C});var o=a(3673),s=a(2323);const n={class:"text-weight-medium"},r={class:"text-grey-8 q-pl-md"},i={class:"text-grey-8 q-gutter-xs"};function l(e,t,a,l,c,d){const m=(0,o.up)("q-icon"),u=(0,o.up)("q-item-section"),p=(0,o.up)("q-item-label"),g=(0,o.up)("q-btn"),h=(0,o.up)("q-item"),_=((0,o.up)("q-radio"),(0,o.up)("q-separator"));(0,o.up)("q-input");return(0,o.wg)(),(0,o.iD)("div",null,[((0,o.wg)(),(0,o.j4)(h,{key:a.index},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{avatar:"",top:""},{default:(0,o.w5)((()=>["cabin"===a.item.type?((0,o.wg)(),(0,o.j4)(m,{key:0,name:"bed",color:"black",size:"34px"})):(0,o.kq)("",!0),"seat"===a.item.type?((0,o.wg)(),(0,o.j4)(m,{key:1,name:"chair",color:"black",size:"34px"})):(0,o.kq)("",!0)])),_:1}),(0,o.Wm)(u,{top:""},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{lines:"1"},{default:(0,o.w5)((()=>[(0,o._)("span",n,(0,s.zw)(a.item.vehicle_name),1),(0,o._)("span",r,(0,s.zw)(a.item.route_name),1)])),_:1}),(0,o.Wm)(p,{lines:"1"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(a.item.cabin_no),1)])),_:1})])),_:1}),(0,o.Wm)(u,{top:"",class:"col-2"},{default:(0,o.w5)((()=>[(0,o.Wm)(p,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(a.item.fare)+"/-",1)])),_:1})])),_:1}),(0,o.Wm)(u,{top:"",side:""},{default:(0,o.w5)((()=>[(0,o._)("div",i,[d.cartRemovable?((0,o.wg)(),(0,o.j4)(g,{key:0,size:"12px",flat:"",dense:"",round:"",icon:"delete",onClick:t[0]||(t[0]=e=>d.removeCartItem(a.index))})):(0,o.kq)("",!0)])])),_:1})])),_:1})),(0,o.kq)("",!0),e.cart.length>1?((0,o.wg)(),(0,o.j4)(_,{key:1})):(0,o.kq)("",!0)])}var c=a(741);const d={props:["item","index"],methods:{removeCartItem(e){console.log(e);const t=this.cart[e];this.$store.dispatch("general/removeItemFromCart",{item:t,index:e,token:this.customer_token}).then((()=>{this.cart})).catch((e=>{}))},togglePassengerDetails(e,t){let a=e.target.value;this.$store.commit("CHANGE_PASSENGER_TYPE",{index:t,value:a})},getHumanDate:function(e){return moment(e,"YYYY-MM-DD").format("DD/MM/YYYY")},changeBoardingPoint(e,t){this.$store.dispatch("general/changeBoardingPoint",{id:e.target.value,index:t})},changePassengerName(e,t,a){console.log(a)},changePassengerMobile(e,t){this.$store.dispatch("general/changePassengerMobile",{name:e.target.value,index:t})}},created(){console.log(this.item)},computed:{cartRemovable(){let e=!0;return"cart"!==this.order.step&&(e=!1),e},passengerType:{get(e){return console.log(e),!0},set(e,t){console.log(t)}},...(0,c.rn)("general",["cart","customer_token","order"])}};var m=a(4260),u=a(3414),p=a(2035),g=a(4554),h=a(2350),_=a(8240),b=a(7991),v=a(5869),y=a(4842),w=a(7518),f=a.n(w);const k=(0,m.Z)(d,[["render",l]]),C=k;f()(d,"components",{QItem:u.Z,QItemSection:p.Z,QIcon:g.Z,QItemLabel:h.Z,QBtn:_.Z,QRadio:b.Z,QSeparator:v.Z,QInput:y.Z})},285:(e,t,a)=>{a.d(t,{Z:()=>g});var o=a(3673),s=a(2323);const n={class:"q-pa-md"};function r(e,t,a,r,i,l){const c=(0,o.up)("q-card-section"),d=(0,o.up)("q-card");return(0,o.wg)(),(0,o.iD)("div",n,[(0,o.Wm)(d,null,{default:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(a.msg||"No results found"),1)])),_:1})])),_:1})])}const i={props:["msg"]};var l=a(4260),c=a(151),d=a(5589),m=a(7518),u=a.n(m);const p=(0,l.Z)(i,[["render",r]]),g=p;u()(i,"components",{QCard:c.Z,QCardSection:d.Z})},3395:(e,t,a)=>{a.r(t),a.d(t,{default:()=>re});var o=a(3673),s=a(2323);const n=e=>((0,o.dD)("data-v-8c149690"),e=e(),(0,o.Cn)(),e),r={class:"absolute-bottom text-h6"},i=n((()=>(0,o._)("br",null,null,-1))),l={class:"row"},c={class:"col q-pa-sm"},d={class:"col q-pa-sm"},m={class:"row"},u={class:"col q-pa-sm"},p={class:"col q-pa-sm"},g=n((()=>(0,o._)("div",{class:"text-h6"},"Movies",-1))),h=(0,o.Uk)(" Lorem ipsum dolor sit amet consectetur adipisicing elit. ");function _(e,t,a,n,_,b){const v=(0,o.up)("q-img"),y=(0,o.up)("q-tab"),w=(0,o.up)("q-tabs"),f=(0,o.up)("q-separator"),k=(0,o.up)("q-select"),C=(0,o.up)("item-layout"),T=(0,o.up)("q-tab-panel"),q=(0,o.up)("q-tab-panels"),Z=(0,o.up)("q-card-section"),W=(0,o.up)("q-card"),x=(0,o.up)("cart-section"),D=(0,o.up)("q-page");return(0,o.wg)(),(0,o.j4)(D,null,{default:(0,o.w5)((()=>[(0,o.Wm)(W,{class:"my-card"},{default:(0,o.w5)((()=>[(0,o.Wm)(v,{src:e.trip.vehicle_photo||"/images/default-banner.jpg",height:"140px"},{default:(0,o.w5)((()=>[(0,o._)("div",r,[(0,o.Uk)((0,s.zw)(e.trip.vehicle_name)+" ",1),i,(0,o._)("small",null,(0,s.zw)(e.trip.route_name),1)])])),_:1},8,["src"]),(0,o.Wm)(Z,null,{default:(0,o.w5)((()=>[(0,o.Wm)(w,{modelValue:n.tab,"onUpdate:modelValue":t[0]||(t[0]=e=>n.tab=e),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary","narrow-indicator":""},{default:(0,o.w5)((()=>[(0,o.Wm)(y,{name:"mails",label:"Tab 1"}),(0,o.Wm)(y,{name:"alarms",label:"Tab 2"})])),_:1},8,["modelValue"]),(0,o.Wm)(f),(0,o.Wm)(q,{modelValue:n.tab,"onUpdate:modelValue":t[5]||(t[5]=e=>n.tab=e)},{default:(0,o.w5)((()=>[(0,o.Wm)(T,{name:"mails"},{default:(0,o.w5)((()=>[(0,o._)("div",l,[(0,o._)("div",c,[(0,o.Wm)(k,{standout:"bg-teal text-white",modelValue:e.floor,"onUpdate:modelValue":t[1]||(t[1]=t=>e.floor=t),options:b.floors,label:"Floor",onChange:b.floorChange},null,8,["modelValue","options","onChange"])]),(0,o._)("div",d,[(0,o.Wm)(k,{standout:"bg-teal text-white",modelValue:b.cabin_type,"onUpdate:modelValue":t[2]||(t[2]=e=>b.cabin_type=e),options:b.cabinTypes,label:"Type"},null,8,["modelValue","options"])])]),(0,o.Wm)(C,{items:e.trip.cabins},null,8,["items"])])),_:1}),(0,o.Wm)(T,{name:"alarms"},{default:(0,o.w5)((()=>[(0,o._)("div",m,[(0,o._)("div",u,[(0,o.Wm)(k,{standout:"bg-teal text-white",modelValue:e.floor,"onUpdate:modelValue":t[3]||(t[3]=t=>e.floor=t),options:b.floors,label:"Floor"},null,8,["modelValue","options"])]),(0,o._)("div",p,[(0,o.Wm)(k,{standout:"bg-teal text-white",modelValue:b.seat_type,"onUpdate:modelValue":t[4]||(t[4]=e=>b.seat_type=e),options:b.seatTypes,label:"Type"},null,8,["modelValue","options"])])]),(0,o.Wm)(C,{items:e.trip.seats},null,8,["items"])])),_:1}),(0,o.Wm)(T,{name:"movies"},{default:(0,o.w5)((()=>[g,h])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,o.Wm)(x)])),_:1})}var b=a(1959);const v=e=>((0,o.dD)("data-v-06ea3abc"),e=e(),(0,o.Cn)(),e),y={class:"cabin-layout"},w={class:"cabins"},f={class:"overflow-auto",id:"cabinLayoutContainer"},k=["onClick"],C=v((()=>(0,o._)("div",{class:"topLap"},"AC",-1))),T={key:0,class:"checked-mark"},q={class:"cabin-number"},Z={class:"cabin-price"};function W(e,t,a,n,r,i){const l=(0,o.up)("q-icon");return(0,o.wg)(),(0,o.iD)("div",y,[(0,o._)("div",w,[(0,o._)("div",f,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.items,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{class:"layoutRowCol",key:t},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{class:(0,s.C_)(["cabin",e.cabin_class]),key:t,onClick:t=>i.addToCard(t,e)},[C,"cabin-selected"===e.cabin_class?((0,o.wg)(),(0,o.iD)("div",T,[(0,o.Wm)(l,{name:"check",size:"18px"})])):(0,o.kq)("",!0),(0,o._)("div",q,(0,s.zw)(e.cabin_no),1),(0,o._)("div",Z,"à§³ "+(0,s.zw)(e.fare),1)],10,k)))),128))])))),128))])])])}const x={props:["items"],created(){console.log(this.items)},methods:{addToCard(e,t){console.log(t),1==t.status&&"cabin-active"==t.cabin_class&&this.$store.dispatch("general/addCart",{item:t,token:this.customer_token}).then((()=>{this.$parent.$q.notify({type:"positive",message:"item has been added to cart"})})).catch((e=>{console.log(e)}))},addToCartDeck(){this.$store.dispatch("general/AddDeckTicketToCart")},cabinStatus(e){var t="cabin-active";switch(e.status){case"0":t="cabin-active";break;case"1":t="cabin-disable";break}return t},filterCabinByType(e="cabin",t){this.$store.dispatch("general/FilterByType",{property:e,type:t})}}};var D=a(4260),I=a(4554),$=a(4615),Q=a(7518),S=a.n(Q);const V=(0,D.Z)(x,[["render",W],["__scopeId","data-v-06ea3abc"]]),z=V;S()(x,"components",{QIcon:I.Z,QExpansionItem:$.Z});var P=a(741);const A={id:"cartSection"},U={key:0,id:"cartContent"},j={class:"row justify-center"};function R(e,t,a,n,r,i){const l=(0,o.up)("q-btn"),c=(0,o.up)("cart-item"),d=(0,o.up)("q-list"),m=(0,o.up)("no-result");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("div",A,[(0,o.Wm)(l,{color:"primary",class:"full-width",onClick:i.displayCartContent},{default:(0,o.w5)((()=>[(0,o.Uk)("Cart ("+(0,s.zw)(e.cart.length)+")",1)])),_:1},8,["onClick"]),e.cartContent?((0,o.wg)(),(0,o.iD)("div",U,[e.cart.length?((0,o.wg)(),(0,o.j4)(d,{key:0,bordered:"",separator:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.cart,((e,t)=>((0,o.wg)(),(0,o.j4)(c,{item:e,index:t},null,8,["item","index"])))),256))])),_:1})):((0,o.wg)(),(0,o.j4)(m,{key:1,msg:"No cart items found"})),(0,o._)("div",j,[e.cart.length?((0,o.wg)(),(0,o.j4)(l,{key:0,type:"submit",loading:e.submitting,class:"full-width",color:"teal",onClick:t[0]||(t[0]=e=>i.confirmCart(e))},{default:(0,o.w5)((()=>[(0,o.Uk)("Confirm order ("+(0,s.zw)(i.cartTotal)+") ",1)])),_:1},8,["loading"])):(0,o.kq)("",!0)])])):(0,o.kq)("",!0)])])}var Y=a(285),E=a(9894);const N={components:{NoResult:Y.Z,CartItem:E.Z},created(){const e=localStorage.getItem("cart");e&&this.$store.commit("general/LOAD_CART_ITEMS",JSON.parse(e))},methods:{displayCartContent(){this.$store.commit("general/DISPLAY_CART_CONTENT",!this.cartContent),console.log(this.cartContent)},confirmCart(e){this.$router.push("/cart")},changeBoardingPoint(e,t){this.$store.dispatch("changeBoardingPoint",{id:e.target.value,index:t})}},computed:{vatOption(){return parseInt(this.getOptionByKey("vat_amount"))},cartTotal(){let e=0;for(var t=0;t<this.cart.length;t++)e+=this.cart[t].fare,"customer"===this.cart[t].vat_applicable_to&&(e+=this.cart[t].fare*(this.cart[t].vat_amount/100));return e.toFixed(2)},...(0,P.rn)("general",["cart","customer_token","cartContent"]),...(0,P.Se)(["getOptionByKey"])}};var B=a(8240),M=a(7011);const O=(0,D.Z)(N,[["render",R],["__scopeId","data-v-7d5266f8"]]),F=O;S()(N,"components",{QBtn:B.Z,QList:M.Z});const H={components:{ItemLayout:z,CartSection:F},setup(){return{tab:(0,b.iH)("mails")}},created(){let e=localStorage.getItem("cart");e.length&&this.$store.commit("general/SYNCHRONIZE_WITH_CART_ITEMS",e);const t=localStorage.getItem("trip");console.log(JSON.parse(t)),t?this.$store.commit("general/SET_TRIP_ITEM",{data:JSON.parse(t)}):this.$store.dispatch("general/viewTrip",{id:this.$route.params.id,floor:this.$store.state.general.search.floor.value,cabin_type:this.$store.state.general.search.cabin_type.value,seat_type:this.$store.state.general.search.seat_type.value}).then((()=>{this.$router.push("/booking/"+this.$route.params.id)}))},methods:{floorChange(){alert("ok")},cabinStatus(e){let t="cabin-active";switch(e.status){case"0":t="cabin-active";break;case"1":t="cabin-disable";break}return t},filterCabinByType(e="cabin",t){this.$store.dispatch("general/FilterByType",{property:e,type:t})}},computed:{cabin_type:{get(){return this.$store.state.general.search.cabin_type},set(e){this.$store.commit("general/UPDATE_FORM_DATA",{key:"cabin_type",value:e})}},seat_type:{get(){return this.$store.state.general.search.seat_type},set(e){this.$store.commit("general/UPDATE_FORM_DATA",{key:"seat_type",value:e})}},floors(){return this.trip.floors},cabinTypes(){return this.trip.cabin_types},seatTypes(){return this.trip.seat_types},...(0,P.rn)("general",["trip","searchResults"])}};var L=a(4379),K=a(151),J=a(4027),G=a(5589),X=a(7547),ee=a(8408),te=a(5869),ae=a(5906),oe=a(6602),se=a(3017);const ne=(0,D.Z)(H,[["render",_],["__scopeId","data-v-8c149690"]]),re=ne;S()(H,"components",{QPage:L.Z,QCard:K.Z,QImg:J.Z,QCardSection:G.Z,QTabs:X.Z,QTab:ee.Z,QSeparator:te.Z,QTabPanels:ae.Z,QTabPanel:oe.Z,QSelect:se.Z})}}]);